<!-- Start Breadcrumbs -->

<!-- End Breadcrumbs -->

<form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
  <div class="row">
    <!-- <div class="col-xxl-3">
      <div class="card overflow-hidden">
        <div>
          <img
            src="assets/images/small/img-7.jpg"
            alt=""
            id="cover-img"
            class="card-img-top profile-wid-img object-fit-cover"
            style="height: 200px"
          />
        </div>
        <div class="card-body pt-0 mt-n5">
          <div class="text-center">
            <div
              class="profile-user position-relative d-inline-block mx-auto"
            >
              @if (employeeselectedImage) { @if
              (employeeselectedImagePreview) {
              <img
                class="avatar-lg rounded-circle object-fit-cover border-0 img-thumbnail user-profile-image"
                [src]="employeeselectedImagePreview"
                alt="Dropzone-Image"
              />
              } }@else if (employeeuploadedImage) {
              <img
                class="avatar-lg rounded-circle object-fit-cover border-0 img-thumbnail user-profile-image"
                [src]="employeeuploadedImage"
                alt="Uploaded Thumbnail"
              />
              } @else {
              <img
                src="assets/images/users/avatar-1.jpg"
                alt=""
                id="user-img"
                class="avatar-lg rounded-circle object-fit-cover border-0 img-thumbnail user-profile-image"
              />
              } @if (f['image'] &&
              f['image'].hasError('required') &&
              f['image'].touched) {
              <div class="invalid-text">
                Image is required.
              </div>
              }

              <input
                type="file"
                id="empimage"
                accept="image/*"
                formControlName="image"
                (change)="employeeimageSelect($event)"
                hidden
                #empimage
              />

              <div
                for="empimage"
                class="avatar-xs p-0 rounded-circle profile-photo-edit position-absolute end-0 bottom-0"
              >
                <label
                  for="empimage"
                  class="profile-photo-edit avatar-xs"
                  placement="right"
                  tooltip="Select Employee Photo"
                >
                  <span
                    class="avatar-title rounded-circle bg-light text-body"
                  >
                    <i class="bi bi-camera"></i>
                  </span>
                </label>
              </div>
            </div>
           
          </div>
        </div>
        
      </div>
    </div> -->
    <div class="col-xl-12">
      <div class="card">
        <div class="card-header">
          <h6 class="card-title mb-0">Personal Details</h6>
        </div>
        <div class="card-body">
          <div class="col-xxl-12">
            <!-- <form [formGroup]="formGroup" (ngSubmit)="onSubmit()"> -->
            <div class="row">
              <div class="col-lg-12">
                <div
                  class="profile-user position-relative d-inline-block mx-auto"
                >
                  @if (employeeselectedImage) { @if
                  (employeeselectedImagePreview) {
                  <img
                    class="avatar-lg rounded-circle object-fit-cover border-0 img-thumbnail user-profile-image"
                    [src]="employeeselectedImagePreview"
                    alt="Dropzone-Image"
                  />
                  } }@else if (employeeuploadedImage) {
                  <img
                    class="avatar-lg rounded-circle object-fit-cover border-0 img-thumbnail user-profile-image"
                    [src]="employeeuploadedImage"
                    alt="Uploaded Thumbnail"
                  />
                  } @else {
                  <img
                    src="assets/images/users/avatar-1.jpg"
                    alt=""
                    id="user-img"
                    class="avatar-lg rounded-circle object-fit-cover border-0 img-thumbnail user-profile-image"
                  />
                  } @if (f['image'] && f['image'].hasError('required') &&
                  f['image'].touched) {
                  <div class="invalid-text">Image is required.</div>
                  }

                  <input
                    type="file"
                    id="empimage"
                    accept="image/*"
                    formControlName="image"
                    (change)="employeeimageSelect($event)"
                    hidden
                    #empimage
                  />

                  <div
                    for="empimage"
                    class="avatar-xs p-0 rounded-circle profile-photo-edit position-absolute end-0 bottom-0"
                  >
                    <label
                      for="empimage"
                      class="profile-photo-edit avatar-xs"
                      placement="right"
                      tooltip="Select Employee Photo"
                    >
                      <span
                        class="avatar-title rounded-circle bg-light text-body"
                      >
                        <i class="bi bi-camera"></i>
                      </span>
                    </label>
                  </div>
                </div>
                <!-- <div class="mt-3">
                      <h5>
                        Richard Marshall
                        <i
                          class="bi bi-patch-check-fill align-baseline text-info ms-1"
                        ></i>
                      </h5>
                      <p class="text-muted">Web Developer</p>
                    </div> -->
              </div>
              <div class="col-lg-6">
                <div class="mb-3">
                  <label for="name" class="form-label"
                    >Empolyee Name <span class="text-danger">*</span></label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="name"
                    formControlName="name"
                    placeholder="Enter Empolyee name"
                    value="name"
                    [ngClass]="
                      f['name'] &&
                      f['name'].hasError('required') &&
                      f['name'].touched
                        ? 'is-invalid'
                        : ''
                    "
                  />
                  @if (f['name'] && f['name'].hasError('required') &&
                  f['name'].touched) {
                  <div class="invalid-text">Empolyee name is required.</div>
                  } @if(f['name'] && f['name'].hasError('maxlength') &&
                  f['name'].touched){
                  <div class="invalid-text">
                    Empolyee name must be at most 45 characters
                  </div>
                  }
                </div>
              </div>

              <div class="col-lg-6">
                <div class="mb-3">
                  <label for="emp_id" class="form-label"
                    >Employee Id <span class="text-danger">*</span></label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="emp_id"
                    formControlName="emp_id"
                    placeholder="Enter Employee Id"
                    value="emp_id"
                    [ngClass]="
                      f['emp_id'] &&
                      f['emp_id'].hasError('required') &&
                      f['emp_id'].touched
                        ? 'is-invalid'
                        : ''
                    "
                  />

                  @if (f['emp_id'] && f['emp_id'].hasError('required') &&
                  f['emp_id'].touched) {
                  <div class="invalid-text">Employee Id is required.</div>
                  }
                </div>
              </div>

              <div class="col-lg-6">
                <div class="mb-3">
                  <label for="email" class="form-label"
                    >Email <span class="text-danger">*</span></label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="email"
                    formControlName="email"
                    placeholder="Enter email"
                    value="email"
                    [ngClass]="
                      f['email'] &&
                      f['email'].hasError('required') &&
                      f['email'].touched
                        ? 'is-invalid'
                        : ''
                    "
                  />

                  @if (f['email'] && f['email'].hasError('required') &&
                  f['email'].touched) {
                  <div class="invalid-text">Email is required.</div>
                  } @if(f['email'].hasError('pattern')){
                  <div class="invalid-text">
                    Email must be a valid email address
                  </div>
                  }
                </div>
              </div>

              <div class="col-lg-6">
                <div class="mb-3">
                  <label for="contact" class="form-label"
                    >Contact Number <span class="text-danger">*</span></label
                  >
                  <input
                    type="number"
                    class="form-control"
                    id="contact"
                    formControlName="mobile"
                    placeholder="Enter mobile"
                    value="mobile"
                    [ngClass]="
                      f['mobile'] &&
                      f['mobile'].hasError('required') &&
                      f['mobile'].touched
                        ? 'is-invalid'
                        : ''
                    "
                  />

                  @if (f['mobile'] && f['mobile'].hasError('required') &&
                  f['mobile'].touched) {
                  <div class="invalid-text">Mobile is required.</div>
                  } @if(f['mobile'].hasError('pattern')){
                  <div class="invalid-text">
                    Please, Enter 10 digit Mobile Number.
                  </div>
                  }
                </div>
              </div>

              <div class="col-lg-6">
                <div class="mb-3">
                  <label for="emergency_contact_name" class="form-label"
                    >Emergency Contact Name </label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="emergency_contact_name"
                    formControlName="emergency_contact_name"
                    placeholder="Enter Emergency Contact Name"
                    value="emergency_contact_name"
                    [ngClass]="
                      f['emergency_contact_name'] &&
                      f['emergency_contact_name'].hasError('required') &&
                      f['emergency_contact_name'].touched
                        ? 'is-invalid'
                        : ''
                    "
                  />
                  @if (f['emergency_contact_name'] && f['emergency_contact_name'].hasError('required') &&
                  f['emergency_contact_name'].touched) {
                  <div class="invalid-text"> emergency_contact_name is required.</div>
                  } @if(f['emergency_contact_name'] && f['emergency_contact_name'].hasError('maxlength') &&
                  f['emergency_contact_name'].touched){
                  <div class="invalid-text">
                    name must be at most 45 characters
                  </div>
                  }
                </div>
              </div>

               <div class="col-lg-6">
                <div class="mb-3">
                  <label for="emergency_contact_number" class="form-label"
                    >Emergency Contact Number </label
                  >
                  <input
                    type="number"
                    class="form-control"
                    id="emergency_contact_number"
                    formControlName="emergency_contact_number"
                    placeholder="Enter Emergency Contact Number"
                    value="emergency_contact_number"
                    [ngClass]="
                      f['emergency_contact_number'] &&
                      f['emergency_contact_number'].hasError('required') &&
                      f['emergency_contact_number'].touched
                        ? 'is-invalid'
                        : ''
                    "
                  />
                  @if (f['emergency_contact_number'] && f['emergency_contact_number'].hasError('required') &&
                  f['emergency_contact_number'].touched) {
                  <div class="invalid-text">Mobile is required.</div>
                  } @if(f['emergency_contact_number'].hasError('pattern')){
                  <div class="invalid-text">
                    Please, Enter 10 digit Mobile Number.
                  </div>
                  }
                </div>
              </div>

                <div class="col-lg-6">
                <div class="mb-3">
                  <label for="pf_no" class="form-label"
                    >PF Number </label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="pf_no"
                    formControlName="pf_no"
                    placeholder="Enter PF Number"
                    value="pf_no"
                    [ngClass]="
                      f['pf_no'] &&
                      f['pf_no'].hasError('required') &&
                      f['pf_no'].touched
                        ? 'is-invalid'
                        : ''
                    "
                  />
                  @if (f['pf_no'] && f['pf_no'].hasError('required') &&
                  f['pf_no'].touched) {
                  <div class="invalid-text"> pf_no is required.</div>
                  } @if(f['pf_no'] && f['pf_no'].hasError('maxlength') &&
                  f['pf_no'].touched){
                  <div class="invalid-text">
                    name must be at most 45 characters
                  </div>
                  }
                </div>
              </div>

                <div class="col-lg-6">
                <div class="mb-3">
                  <label for="esi_no" class="form-label"
                    >ESI Number</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="esi_no"
                    formControlName="esi_no"
                    placeholder="Enter ESI Number"
               
                    [ngClass]="
                      f['esi_no'] &&
                      f['esi_no'].hasError('required') &&
                      f['esi_no'].touched
                        ? 'is-invalid'
                        : ''
                    "
                  />
                  @if (f['esi_no'] && f['esi_no'].hasError('required') &&
                  f['esi_no'].touched) {
                  <div class="invalid-text"> esi_no is required.</div>
                  } @if(f['esi_no'] && f['esi_no'].hasError('maxlength') &&
                  f['esi_no'].touched){
                  <div class="invalid-text">
                    name must be at most 45 characters
                  </div>
                  }
                </div>
              </div>

                <div class="col-lg-6">
                <div class="mb-3">
                  <label for="gender" class="form-label"
                    >Gender <span class="text-danger">*</span></label
                  >
                  <select
                    class="form-control"
                    formControlName="gender"
                    data-choices
                    id="gender"
                    [ngClass]="
                      f['gender'] &&
                      f['gender'].hasError('required') &&
                      f['gender'].touched
                        ? 'is-invalid'
                        : ''
                    "
                  >
                    <option value="">Select Gender</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Other">Other</option>
                  </select>
                  @if (f['gender'] && f['gender'].hasError('required') &&
                  f['gender'].touched) {
                  <div class="invalid-text">Gender is required.</div>
                  }
                </div>
              </div>
          
              <div class="col-lg-6">
                <div class="mb-3">
                  <label for="dob" class="form-label">Date of Birth </label>
                  <input
                    type="date"
                    class="form-control"
                    id="dob"
                    formControlName="dob"
                    placeholder="Enter Date of Birth"
                    value="dob"
                    [ngClass]="
                      f['dob'] &&
                      f['dob'].hasError('required') &&
                      f['dob'].touched
                        ? 'is-invalid'
                        : ''
                    "
                  />

                  @if (f['dob'] && f['dob'].hasError('required') &&
                  f['dob'].touched) {
                  <div class="invalid-text">Date of Birth is required.</div>
                  }
                </div>
              </div>

              <div class="col-lg-6">
                <div class="mb-3">
                  <label for="JoiningdatInput" class="form-label"
                    >Joining Date</label
                  >
                  <input
                    formControlName="joining_date"
                    type="date"
                    class="form-control"
                  />
                </div>
              </div>

              <div class="col-lg-6">
                <div class="mb-3">
                  <div class="d-flex">
                    <div class="flex-grow-1">
                      <label for="branch" class="form-label"
                        >Branch <span class="text-danger">*</span></label
                      >
                    </div>
                    <div class="flex-shrink-0">
                      <a class="link-effect" (click)="onAddBranch()"
                        >Create New
                        <i class="bi bi-arrow-right align-baseline ms-1"></i
                      ></a>
                    </div>
                  </div>

                  <select
                    class="form-select"
                    id="branch"
                    formControlName="branch"
                    placeholder="Enter Branch"
                  >
                    <option selected>Select Branch</option>
                    @for (item of branch; track $index) {
                    <option value="{{ item.id }}">
                      {{ item.name }}
                    </option>
                    }
                  </select>

                  @if (f['branch'] && f['branch'].hasError('required') &&
                  f['branch'].touched) {
                  <div class="invalid-text">Branch is required.</div>
                  }
                </div>
              </div>

              <div class="col-lg-6">
                <div class="mb-3">
                  <div class="d-flex">
                    <div class="flex-grow-1">
                      <label for="designation" class="form-label"
                        >Designation <span class="text-danger">*</span></label
                      >
                    </div>
                    <div class="flex-shrink-0">
                      <a class="link-effect" (click)="onAdd()"
                        >Create New
                        <i class="bi bi-arrow-right align-baseline ms-1"></i
                      ></a>
                    </div>
                  </div>

                  <select
                    class="form-select"
                    id="designation"
                    formControlName="designation"
                    placeholder="Enter Designation"
                  >
                    <option selected>Select Designation</option>
                    @for (item of designations; track $index) {
                    <option value="{{ item.id }}">
                      {{ item.name }}
                    </option>
                    }
                  </select>

                  @if (f['designation'] && f['designation'].hasError('required')
                  && f['designation'].touched) {
                  <div class="invalid-text">Designation is required.</div>
                  }
                </div>
              </div>

              <div class="col-lg-6">
                <div class="mb-3">
                  <div class="d-flex">
                    <div class="flex-grow-1">
                      <label for="departments" class="form-label"
                        >Department <span class="text-danger">*</span></label
                      >
                    </div>
                    <div class="flex-shrink-0">
                      <a class="link-effect" (click)="onAdddep()"
                        >Create New
                        <i class="bi bi-arrow-right align-baseline ms-1"></i
                      ></a>
                    </div>
                  </div>

                  <select
                    class="form-select"
                    id="departments"
                    formControlName="department"
                    placeholder="Enter Department"
                  >
                    <option selected>Select Department</option>
                    @for (item of departments; track $index) {
                    <option value="{{ item.id }}">
                      {{ item.name }}
                    </option>
                    }
                  </select>

                  <!-- <input
                        type="text"
                        class="form-control"
                        id="designation"
                        formControlName="designation"
                        placeholder="Enter Designation"
                        value="designation"
                        [ngClass]="
                          f['designation'] &&
                          f['designation'].hasError('required') &&
                          f['designation'].touched
                            ? 'is-invalid'
                            : ''
                        "
                      /> -->

                  @if (f['department'] && f['department'].hasError('required')
                  && f['department'].touched) {
                  <div class="invalid-text">Department is required.</div>
                  }
                </div>
              </div>

            

              <div class="col-lg-12">
                <div class="mb-3">
                  <label for="address" class="form-label"> Address </label>

                  <textarea
                    class="form-control"
                    placeholder="Enter address"
                    rows="3"
                    formControlName="address"
                    [ngClass]="{
                      'is-invalid':
                        f['address'] &&
                        f['address'].errors &&
                        f['address'].touched
                    }"
                  ></textarea>

                  @if (f['address'] && f['address'].hasError('required') &&
                  f['address'].touched) {
                  <div class="invalid-text">Address is required.</div>
                  } @if(f['address'] && f['address'].hasError('maxlength') &&
                  f['address'].touched){
                  <div class="invalid-text">
                    Address must be at most 100 characters
                  </div>
                  }
                </div>
              </div>

              <div class="col-lg-4">
                <div class="mb-3">
                  <label for="city" class="form-label">City </label>
                  <input
                    type="text"
                    class="form-control"
                    id="city"
                    formControlName="city"
                    placeholder="Enter city"
                    value="city"
                    [ngClass]="
                      f['city'] &&
                      f['city'].hasError('required') &&
                      f['city'].touched
                        ? 'is-invalid'
                        : ''
                    "
                  />

                  @if (f['city'] && f['city'].hasError('required') &&
                  f['city'].touched) {
                  <div class="invalid-text">City is required.</div>
                  }
                </div>
              </div>

              <div class="col-lg-4">
                <div class="mb-3">
                  <label for="zip_code" class="form-label">Zip code </label>

                  <input
                    type="number"
                    class="form-control"
                    id="zip_code"
                    formControlName="zip_code"
                    placeholder="Enter zip code"
                    [ngClass]="
                      f['zip_code'] &&
                      f['zip_code'].hasError('required') &&
                      f['zip_code'].touched
                        ? 'is-invalid'
                        : ''
                    "
                  />

                  <div *ngIf="f['zip_code']?.touched && f['zip_code']?.errors">
                    <div
                      *ngIf="f['zip_code']?.hasError('required')"
                      class="invalid-text"
                    >
                      Zip code is required.
                    </div>
                    <div
                      *ngIf="f['zip_code']?.hasError('maxlength')"
                      class="invalid-text"
                    >
                      Invalid zip code.
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-lg-4">
                <div class="mb-3">
                  <label for="state" class="form-label">State </label>
                  <select
                    class="form-control"
                    formControlName="state"
                    data-choices
                    id="state"
                    [ngClass]="
                      f['state'] &&
                      f['state'].hasError('required') &&
                      f['state'].touched
                        ? 'is-invalid'
                        : ''
                    "
                  >
                    <option value="">Select State</option>
                    <option *ngFor="let state of states" [value]="state">
                      {{ state }}
                    </option>
                  </select>
                  @if (f['state'] && f['state'].hasError('required') &&
                  f['state'].touched) {
                  <div class="invalid-text">State is required.</div>
                  }
                </div>
              </div>

              <div class="col-lg-6">
                <div class="row mb-3">
                  <div class="col-6">
                    <label for="timeInput" class="form-label"
                      >Enter Time:</label
                    >
                    <input
                      id="timeInput"
                      class="form-control"
                      type="number"
                      formControlName="timer"
                      placeholder="Enter time"
                    />
                  </div>
                  <div class="col-6">
                    <label for="unitSelector" class="form-label"
                      >Select Unit:</label
                    >
                    <select
                      id="unitSelector"
                      class="form-control"
                      formControlName="unit"
                      (change)="convertTime()"
                    >
                      <option value="seconds">Seconds</option>
                      <option value="minutes">Minutes</option>
                      <option value="hours">Hours</option>
                    </select>
                  </div>

                  @if (f['time'] && f['time'].hasError('required') &&
                  f['time'].touched && f['time'].invalid) {
                  <div class="invalid-text">
                    Time is required and must be a positive number.
                  </div>
                  }
                </div>
              </div>

              <div class="col-lg-6">
                <div class="mb-3">
                  <label for="statuss" class="form-label"
                    >Status <span class="text-danger">*</span></label
                  >
                  <select
                    class="form-control"
                    formControlName="status"
                    data-choices
                    id="statuss"
                    [ngClass]="
                      f['status'] &&
                      f['status'].hasError('required') &&
                      f['status'].touched
                        ? 'is-invalid'
                        : ''
                    "
                  >
                    <option value="">Select Status</option>
                    <option value="active">Active</option>
                    <option value="inactive">Inactive</option>
                  </select>
                  @if (f['status'] && f['status'].hasError('required') &&
                  f['status'].touched) {
                  <div class="invalid-text">Status is required.</div>
                  }
                </div>
              </div>

              <div class="col-lg-6 d-flex align-items-center">
                <li class="d-flex">
                  <div class="flex-shrink-0">
                    <div class="form-check form-switch">
                      <input
                        type="checkbox"
                        role="switch"
                        id="directMessage"
                        class="form-check-input"
                        [checked]="useDefaultPassword"
                        (change)="onCheckboxChange($event)"
                      />
                      Use Default Password (Password : 123456)
                    </div>
                  </div>
                </li>
              </div>

              <div class="row mt-3">
                <div *ngIf="!useDefaultPassword" class="col-lg-6">
                  <div class="auth-pass-inputgroup">
                    <label for="password-input" class="form-label"
                      >New Password*</label
                    >
                    <div class="position-relative">
                      <input
                        [type]="fieldTextType1 ? 'text' : 'password'"
                        class="form-control password-input"
                        id="password-input"
                        formControlName="password"
                        placeholder="Enter new password"
                        (input)="checkPasswordPattern()"
                        [ngClass]="{
                          'is-invalid':
                            f['password'].hasError('required') &&
                            f['password'].touched
                        }"
                      />
                      <button
                        class="btn btn-link position-absolute end-0 top-0 text-decoration-none text-muted password-addon"
                        type="button"
                        (click)="toggleFieldTextType1()"
                      >
                        <i
                          class="ri-eye-fill align-middle"
                          [ngClass]="{
                            'mdi-eye-off-outline': !fieldTextType1,
                            'mdi-eye-outline': fieldTextType1
                          }"
                        ></i>
                      </button>
                    </div>
                    <div
                      *ngIf="
                        f['password'].hasError('required') &&
                        f['password'].touched
                      "
                      class="invalid-text"
                    >
                      Password is required.
                    </div>
                  </div>
                </div>

                <div *ngIf="!useDefaultPassword" class="col-lg-6">
                  <div class="auth-pass-inputgroup">
                    <label for="confirm-password-input" class="form-label"
                      >Confirm Password*</label
                    >
                    <div class="position-relative">
                      <input
                        [type]="fieldTextType2 ? 'text' : 'password'"
                        class="form-control password-input"
                        id="confirm-password-input"
                        formControlName="confirmPassword"
                        placeholder="Confirm password"
                        [ngClass]="{
                          'is-invalid':
                            f['confirmPassword'].hasError('required') &&
                            f['confirmPassword'].touched
                        }"
                      />
                      <button
                        class="btn btn-link position-absolute end-0 top-0 text-decoration-none text-muted password-addon"
                        type="button"
                        (click)="toggleFieldTextType2()"
                      >
                        <i
                          class="ri-eye-fill align-middle"
                          [ngClass]="{
                            'mdi-eye-off-outline': !fieldTextType2,
                            'mdi-eye-outline': fieldTextType2
                          }"
                        ></i>
                      </button>
                    </div>
                    <div
                      *ngIf="
                        f['confirmPassword'].hasError('required') &&
                        f['confirmPassword'].touched
                      "
                      class="invalid-text"
                    >
                      Confirm Password is required.
                    </div>
                    <div
                      *ngIf="
                        formGroup.hasError('mismatch') &&
                        f['confirmPassword']?.value &&
                        f['password']?.value
                      "
                      class="invalid-text"
                    >
                      Password and Confirm Password does not match.
                    </div>
                  </div>
                </div>
              </div>

              @if(f['password'] && f['password'].hasError('pattern')){
              <div class="col-lg-12 mt-4">
                <div
                  class="card bg-light shadow-none passwd-bg"
                  id="password-contain"
                >
                  <div class="card-body">
                    <div class="mb-4">
                      <h5 class="fs-sm">Password must contain:</h5>
                    </div>
                    <div>
                      <p
                        id="pass-length"
                        class="fs-xs mb-2"
                        [ngClass]="
                          passwordValidations.length ? 'valid' : 'invalid'
                        "
                      >
                        Minimum <b>8 characters</b>
                      </p>
                      <p
                        id="pass-lower"
                        class="fs-xs mb-2"
                        [ngClass]="
                          passwordValidations.lower ? 'valid' : 'invalid'
                        "
                      >
                        At least <b>one lowercase</b> letter (a-z)
                      </p>
                      <p
                        id="pass-upper"
                        class="fs-xs mb-2"
                        [class.valid]="passwordValidations.upper"
                        [ngClass]="
                          passwordValidations.upper ? 'valid' : 'invalid'
                        "
                      >
                        At least <b>one uppercase</b> letter (A-Z)
                      </p>
                      <p
                        id="pass-number"
                        class="fs-xs mb-2"
                        [ngClass]="
                          passwordValidations.number ? 'valid' : 'invalid'
                        "
                      >
                        At least <b>one number</b> (0-9)
                      </p>

                      <p
                        id="pass-number"
                        class="fs-xs mb-0"
                        [ngClass]="
                          passwordValidations.special ? 'valid' : 'invalid'
                        "
                      >
                        At least
                        <b>one special character</b>
                        (!&#64;#$!%*?&)
                      </p>
                    </div>
                  </div>
                </div>
              </div>
              }
            </div>
            <div class="col-12 mt-3">
              <div class="hstack gap-2 justify-content-end mb-3">
                @if (saveButtonActive) {
                <button class="btn btn-primary">Save</button>
                } @else {
                <button class="btn btn-secondary" type="button" disabled>
                  <span
                    class="spinner-border spinner-border-sm"
                    role="status"
                    aria-hidden="true"
                  ></span>
                  Please wait
                </button>
                }
              </div>
            </div>
            <!-- </form> -->

            <div></div>
          </div>
          @if (spinnerStatus) {
          <div id="elmLoader">
            <div class="spinner-border text-primary avatar-sm" role="status">
              <span class="visually-hidden">Loading...</span>
            </div>
          </div>
          }
        </div>
        <!-- end card-body -->
      </div>
      <!-- end card -->
    </div>
  </div>
</form>

<!-- branch modal -->
<div
  class="modal fade"
  bsModal
  #showModalBranch="bs-modal"
  (hidden.bs.modal)="resetFormBranch()"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header px-4 pt-4">
        <h5 class="modal-title" id="exampleModalLabel">Add Branch</h5>
        <button
          type="button"
          class="btn-close"
          (click)="showModalBranch.hide()"
        ></button>
      </div>

      <form
        (ngSubmit)="onSubmitBranch()"
        [formGroup]="formGroupBranch"
        class="tablelist-form"
        novalidate
        autocomplete="off"
      >
        <div class="modal-body p-4">
          <div
            id="alert-error-msg"
            class="d-none alert alert-danger py-2"
          ></div>

          <div class="mb-3">
            <label for="product-title-input-branch" class="form-label"
              >Branch Name <span class="text-danger">*</span></label
            >
            <input
              type="text"
              id="product-title-input-branch"
              formControlName="name"
              class="form-control"
              placeholder="Enter Designation Name"
            />
            @if (br['name'] && br['name'].hasError('required') &&
            br['name'].touched) {
            <div class="invalid-text">Branch name is required.</div>
            } @if(br['name'] && br['name'].hasError('maxlength') &&
            br['name'].touched){
            <div class="invalid-text">
              Branch name must be at most 45 characters
            </div>
            }
          </div>

          <div class="mb-3">
            <label for="statuss-branch" class="form-label"
              >Status <span class="text-danger">*</span></label
            >
            <select
              class="form-control"
              formControlName="status"
              data-choices
              id="statuss-branch"
              [ngClass]="
                br['status'] &&
                br['status'].hasError('required') &&
                br['status'].touched
                  ? 'is-invalid'
                  : ''
              "
            >
              <option value="">Select Status</option>
              <option value="active">Active</option>
              <option value="inactive">Inactive</option>
            </select>
            @if (br['status'] && br['status'].hasError('required') &&
            br['status'].touched) {
            <div class="invalid-text">Status is required.</div>
            }
          </div>
        </div>
        <div class="modal-footer">
          <div class="hstack gap-2 justify-content-end">
            <button
              type="button"
              class="btn btn-ghost-danger"
              (click)="showModalBranch.hide()"
            >
              <i class="bi bi-x-lg align-baseline me-1"></i> Close
            </button>
            <button type="submit" class="btn btn-primary" id="add-btn-branch">
              Add
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- designation modal -->
<div
  class="modal fade"
  bsModal
  #showModal="bs-modal"
  (hidden.bs.modal)="resetFormDes()"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header px-4 pt-4">
        <h5 class="modal-title" id="exampleModalLabel">Add Designation</h5>
        <button
          type="button"
          class="btn-close"
          (click)="showModal.hide()"
        ></button>
      </div>

      <form
        (ngSubmit)="onSubmitDes()"
        [formGroup]="formGroupDesignation"
        class="tablelist-form"
        novalidate
        autocomplete="off"
      >
        <div class="modal-body p-4">
          <div
            id="alert-error-msg"
            class="d-none alert alert-danger py-2"
          ></div>

          <div class="mb-3">
            <label for="product-title-input-designation" class="form-label"
              >Designation Name <span class="text-danger">*</span></label
            >
            <input
              type="text"
              id="product-title-input-designation"
              formControlName="name"
              class="form-control"
              placeholder="Enter Designation Name"
            />
            @if (d['name'] && d['name'].hasError('required') &&
            d['name'].touched) {
            <div class="invalid-text">Designation name is required.</div>
            } @if(d['name'] && d['name'].hasError('maxlength') &&
            d['name'].touched){
            <div class="invalid-text">
              Designation name must be at most 45 characters
            </div>
            }
          </div>

          <div class="mb-3">
            <label for="statuss-designation" class="form-label"
              >Status <span class="text-danger">*</span></label
            >
            <select
              class="form-control"
              formControlName="status"
              data-choices
              id="statuss-designation"
              [ngClass]="
                d['status'] &&
                d['status'].hasError('required') &&
                d['status'].touched
                  ? 'is-invalid'
                  : ''
              "
            >
              <option value="">Select Status</option>
              <option value="active">Active</option>
              <option value="inactive">Inactive</option>
            </select>
            @if (d['status'] && d['status'].hasError('required') &&
            d['status'].touched) {
            <div class="invalid-text">Status is required.</div>
            }
          </div>
        </div>
        <div class="modal-footer">
          <div class="hstack gap-2 justify-content-end">
            <button
              type="button"
              class="btn btn-ghost-danger"
              (click)="showModal.hide()"
            >
              <i class="bi bi-x-lg align-baseline me-1"></i> Close
            </button>
            <button
              type="submit"
              class="btn btn-primary"
              id="add-btn-designation"
            >
              Add
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- department modal -->
<div
  class="modal fade"
  bsModal
  #showModalDepartment="bs-modal"
  (hidden.bs.modal)="resetFormDep()"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header px-4 pt-4">
        <h5 class="modal-title" id="exampleModalLabel">Add Department</h5>
        <button
          type="button"
          class="btn-close"
          (click)="showModalDepartment.hide()"
        ></button>
      </div>

      <form
        (ngSubmit)="onSubmitDep()"
        [formGroup]="formGroupDepartment"
        class="tablelist-form"
        novalidate
        autocomplete="off"
      >
        <div class="modal-body p-4">
          <div
            id="alert-error-msg"
            class="d-none alert alert-danger py-2"
          ></div>

          <div class="mb-3">
            <label for="product-title-input-department" class="form-label"
              >Department Name <span class="text-danger">*</span></label
            >
            <input
              type="text"
              id="product-title-input-department"
              formControlName="name"
              class="form-control"
              placeholder="Enter Department Name"
            />
            @if (de['name'] && de['name'].hasError('required') &&
            de['name'].touched) {
            <div class="invalid-text">Department name is required.</div>
            } @if(de['name'] && de['name'].hasError('maxlength') &&
            de['name'].touched){
            <div class="invalid-text">
              Department name must be at most 45 characters
            </div>
            }
          </div>

          <div class="mb-3">
            <label for="statuss-department" class="form-label"
              >Status <span class="text-danger">*</span></label
            >
            <select
              class="form-control"
              formControlName="status"
              data-choices
              id="statuss-department"
              [ngClass]="
                de['status'] &&
                de['status'].hasError('required') &&
                de['status'].touched
                  ? 'is-invalid'
                  : ''
              "
            >
              <option value="">Select Status</option>
              <option value="active">Active</option>
              <option value="inactive">Inactive</option>
            </select>
            @if (de['status'] && de['status'].hasError('required') &&
            de['status'].touched) {
            <div class="invalid-text">Status is required.</div>
            }
          </div>
        </div>
        <div class="modal-footer">
          <div class="hstack gap-2 justify-content-end">
            <button
              type="button"
              class="btn btn-ghost-danger"
              (click)="showModalDepartment.hide()"
            >
              <i class="bi bi-x-lg align-baseline me-1"></i> Close
            </button>
            <button
              type="submit"
              class="btn btn-primary"
              id="add-btn-department"
            >
              Add
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
