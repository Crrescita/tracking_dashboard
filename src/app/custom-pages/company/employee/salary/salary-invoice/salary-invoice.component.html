<div id="salary-invoice">
    <div class="row">
      <div class="col-lg-12">
        <div class="card">

            <div class="card-header ">
                <div class="row">
                    <div class="col-4">
                        <div class="input-group">
                            <input
                              type="text"
                              id="datepicker"
                              class="form-control"
                              showWeekNumbers="false"
                              bsDatepicker
                              [bsConfig]="bsConfig"
                              [(ngModel)]="selectedDate"
                              (bsValueChange)="onDateChange($event)"
                            />
                            <div class="input-group-append">
                              <label
                                for="datepicker"
                                class="input-group-text cursor-pointer"
                              >
                                <i class="ri-calendar-fill"></i>
                              </label>
                            </div>
                          </div>
                    </div>
                    <div class="col-4 offset-4">
                        <ngx-simplebar class="chat-message-list chat-bookmark-list">
                            <ul class="list-unstyled chat-list">
            
                              <li>
                                <div class="d-flex align-items-center">
                                    <div class="flex-grow-1 overflow-hidden">
                                        <h5 class="mb-1"><a href="javascript:void(0);" class="text-truncate p-0">Invoice of Month</a></h5>
                                    </div>
            
                                    <div class="flex-shrink-0 ms-3">
                                      <p class="text-muted text-truncate fs-xs mb-0">{{this.formattedDate | date : " MMMM"}}</p>   
                                    </div>
                                </div>
                            </li>
                               
                                <li>
                                    <div class="d-flex align-items-center">
                                        <div class="flex-grow-1 overflow-hidden">
                                            <h5 class="mb-1"><a href="javascript:void(0);" class="text-truncate p-0">Paid Days</a></h5>
                                        </div>
            
                                        <div class="flex-shrink-0 ms-3">
                                          <p class="text-muted text-truncate fs-xs mb-0">{{this.presentDays}}</p>   
                                        </div>
                                    </div>
                                </li>
            
                                <li>
                                  <div class="d-flex align-items-center">
                                      <div class="flex-grow-1 overflow-hidden">
                                          <h5 class="mb-1"><a href="javascript:void(0);" class="text-truncate p-0">Balance Advance</a></h5>
                                      </div>
            
                                      <div class="flex-shrink-0 ms-3">
                                        <p class="text-muted text-truncate fs-xs mb-0">{{this.totalAdvBal}}</p>   
                                      </div>
                                  </div>
                              </li>
            
                           
                                
                            </ul>
                        </ngx-simplebar>
                      
                     </div>
                    
               
                </div>
              </div>

              <div class="card-body">
            
                <form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
                    <div class="row g-3">
                      <div class="col-4">
                        <label for="salary_id" class="form-label"
                          >Net Salary <span class="text-danger">*</span></label
                        >
                        <input
                          type="number"
                          formControlName="salary"
                          class="form-control"
                          id="salary_id"
                         
                          placeholder=""
                        />
                        @if (f['salary'] && f['salary'].hasError('required') &&
                        f['salary'].touched) {
                        <div class="invalid-text">Salary is required.</div>
                        } @if(f['salary'] && f['salary'].hasError('minlength') &&
                        f['salary'].touched){
                        <div class="invalid-text">Salary must be at least 0.</div>
                        }
                      </div>

                      <div class="col-8 d-flex">
                        <div class="hstack gap-2 justify-content-end align-items-end">
                          @if (saveButtonActive) {
                          <button class="btn btn-primary">Save</button>
                          } @else {
                          <button class="btn btn-secondary" type="button" disabled>
                            <span
                              class="spinner-border spinner-border-sm"
                              role="status"
                              aria-hidden="true"
                            ></span>
                            Please wait
                          </button>
                          }
                        </div>
                      </div>
                       
                      <div class="table-responsive mt-4">
                        <table
                          class="invoice-table table table-borderless table-nowrap mb-0"
                        >
                          <thead class="align-middle">
                            <tr class="table-light">
                              <th scope="col" style="width: 50px">#</th>
                              <th scope="col">Earning</th>
                
                              <th scope="col">Calculation</th>
                              <th scope="col" class="text-end" style="width: 150px">
                                Amount
                              </th>
                              <th scope="col" class="text-end" style="width: 105px"></th>
                            </tr>
                          </thead>
                          <tbody id="newlink" formArrayName="breakup">
                            @for (data of breakup.controls; track $index) {
                            <tr id="1" class="product-elem border-top border-top-dashed" [formGroupName]="$index">
                              <td scope="row" class="product-id">             
                                 <p class="mt-2"> {{ $index + 1 }}</p>
                              </td>
                              <td class="text-start">
                                <div class="mb-2">
                                  <input
                                    type="text"
                                    class="form-control w-50"
                                    id="name-{{ $index + 1 }}"
                                    formControlName="name"
                                
                                    [value]="data.get('name')?.value"
                                    placeholder="Enter name"
                                    [readonly]="
                                      data.get('nameReadonly')?.value || $index === 0
                                    "
                                  />
                
                                  <div
                                    *ngIf="
                                      data.get('name')?.invalid &&
                                      data.get('name')?.touched
                                    "
                                  >
                                    <small class="invalid-text">
                                      Please enter a name.</small
                                    >
                                  </div>
                                </div>
                              
                              </td>
                
                              <td class="text-end">
                                <div>
                                 
                                  <select
                                  class="form-select w-50"
                                  [formControlName]="'calculationType'"
                                  (change)="onCalculationTypeChange($event, $index, data)"
                                >
                                  <option *ngIf="data.get('formula')?.value" value="default">
                                    Default
                                  </option>
                                  <option value="custom">Custom</option>
                                  <option value="formula">Formula Builder</option>
                                </select>
                                
                                  <!-- Formula Builder Input -->
                                  <div
                                    *ngIf="
                                      data.get('calculationType')?.value === 'formula'
                                    "
                                  >
                                  
                                    <!-- <input
                                      type="text"
                                      class="form-control"
                                      formControlName="formula"
                                      placeholder="Enter formula (e.g., netSalary + totalAmount)"
                                    />
                                    <small class="text-muted">
                                      Use valid expressions for calculation.
                                    </small>
                
                                 
                                    <div class="mt-2">
                                      <label for="variables">Choose Variables:</label>
                                      <div>
                                        <a
                                          *ngFor="let variable of availableVariables"
                                          class="btn btn-outline-secondary btn-sm"
                                 
                                          (click)="insertVariable(variable, $index, false)"
                                        >
                                          {{ variable.name }}: {{ variable.value }}
                                        </a>
                                      </div>
                                    </div>
                
                                 
                                    <div class="mt-2">
                                      <label for="operations">Choose Operations:</label>
                                      <div>
                                        <a
                                          *ngFor="let operation of operations"
                                          class="btn btn-outline-secondary btn-sm"
                                          (click)="insertOperation(operation, $index, false)"
                                        >
                                          {{ operation }}
                                        </a>
                                      </div>
                                    </div>
                
                                    <button
                                      type="button"
                                      class="btn btn-outline-secondary btn-sm mt-2"
                                      (click)="evaluateFormula($index)"
                                    >
                                      Evaluate
                                    </button> -->
                
                                    <div class="formula-calculator">
                                      <!-- Formula Display -->
                                      <div class="formula-display mb-3">
                                        <input 
                                          type="text" 
                                          class="form-control" 
                                          [formControlName]="'formula'"
                                          [placeholder]="'Enter formula'"
                                       
                                        />
                                        <!-- [readonly]="true" -->
                                      </div>
                                      <small class="text-muted">
                                        Use valid expressions for calculation.
                                      </small>
                                      <!-- Variables Section -->
                                      <div class="variables-section mb-3">
                                        <label class="d-block mb-2">Variables</label>
                                        <div class="variables-grid">
                                          <a 
                                            *ngFor="let variable of availableVariables"
                                            class="btn btn-outline-primary calc-btn"
                                            (click)="insertVariable(variable, $index, false)"
                                          >
                                            {{ variable.name }}: {{ variable.value }}
                                          </a>
                                        </div>
                                      </div>
                                    
                                      <!-- Calculator Grid -->
                                      <div class="calculator-grid">
                                        <!-- Numbers and Operations -->
                                        <div class="calc-buttons">
                                          <div class="row g-1">
                                            <div class="col-3" *ngFor="let num of [7,8,9]">
                                              <a class="btn btn-light calc-btn w-100"   (click)="appendNumber(num , $index, false)">{{num}}</a>
                                            </div>
                                            <div class="col-3">
                                              <a class="btn btn-warning calc-btn w-100" (click)="insertOperation('/', $index, false)" >/</a>
                                            </div>
                                          </div>
                                          <div class="row g-1 mt-1">
                                            <div class="col-3" *ngFor="let num of [4,5,6]">
                                              <a class="btn btn-light calc-btn w-100"  (click)="appendNumber(num , $index, false)">{{num}}</a>
                                            </div>
                                            <div class="col-3">
                                              <a class="btn btn-warning calc-btn w-100" (click)="insertOperation('*', $index, false)" >×</a>
                                            </div>
                                          </div>
                                          <div class="row g-1 mt-1">
                                            <div class="col-3" *ngFor="let num of [1,2,3]">
                                              <a class="btn btn-light calc-btn w-100"  (click)="appendNumber(num , $index, false)">{{num}}</a>
                                            </div>
                                            <div class="col-3">
                                              <a class="btn btn-warning calc-btn w-100" (click)="insertOperation('-', $index, false)">-</a>
                                            </div>
                                          </div>
                                          <div class="row g-1 mt-1">
                                            <div class="col-3">
                                              <a class="btn btn-light calc-btn w-100" (click)="appendNumber(0 , $index, false)">0</a>
                                            </div>
                                            <div class="col-3">
                                              <a class="btn btn-light calc-btn w-100" (click)="appendDecimal($index, false)">.</a>
                                            </div>
                                            <div class="col-3">
                                              <a class="btn btn-danger calc-btn w-100" (click)="clear($index , false)">C</a>
                                            </div>
                                            <div class="col-3">
                                              <a class="btn btn-warning calc-btn w-100" (click)="insertOperation('+', $index, false)">+</a>
                                            </div>
                                          </div>
                                          <div class="row g-1 mt-1">
                                            <div class="col-3">
                                              <a class="btn btn-secondary calc-btn w-100" (click)="insertOperation('(', $index, false)" >(</a>
                                            </div>
                                            <div class="col-3">
                                              <a class="btn btn-secondary calc-btn w-100" (click)="insertOperation(')', $index, false)" >)</a>
                                            </div>
                                            <div class="col-3">
                                              <a class="btn btn-secondary calc-btn w-100"  (click)="insertOperation('%', $index, false)">%</a>
                                            </div>
                                            <div class="col-3">
                                              <a class="btn btn-success calc-btn w-100"   (click)="evaluateFormula($index)">=</a>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                
                                
                              
                                  <div
                                    *ngIf="
                                      data.get('formula')?.invalid &&
                                      data.get('formula')?.touched &&
                                      data.get('calculationType')?.value === 'formula'
                                    "
                                  >
                                    <small class="invalid-text"
                                      >Formula is required.</small
                                    >
                                  </div>
                                </div>
                              </td>
                
                              <td class="text-end">
                                <div>
                                 
                                  <input
                                    class="form-control invoice-product-line-price text-end"
                                    type="number"
                                    id="amount-{{ $index }}"
                                    formControlName="amount"
                                    [value]="data.get('amount')?.value"
                                    thousandSeparator=","
                                    decimalMarker="."
                                    placeholder="Enter amount"
                                    (input)="
                                      validateTotal(); onFormulaInput($event, $index)
                                    "
                                    [readonly]="
                                      data.get('calculationType')?.value === 'formula' ||
                                      data.get('calculationType')?.value === 'default'
                                    "
                                  />
                                 
                                
                                  <div
                                    *ngIf="
                                      data.get('amount')?.invalid &&
                                      data.get('amount')?.touched
                                    "
                                  >
                                    <small class="invalid-text"
                                      >Amount is required and must be positive.</small
                                    >
                                  </div>
                                </div>
                              </td>
                              <td class="product-removal">
                                @if($index != 0){
                                <a
                                  href="javascript:void(0)"
                                  class="btn btn-danger"
                                  (click)="removeRow($index)"
                                  > <i class="ri-delete-bin-2-line"></i></a
                                >
                                }
                              </td>
                            </tr>
                            }
                          </tbody>
                          <!-- <tfoot  class="table-light"><tr ><td  colspan="4">Total</td><td >{{this.breakupTotal.toFixed(2)}}</td></tr></tfoot> -->
                          <tbody>
                            <tr>
                              <td colspan="5">
                                <a
                                  href="javascript:void(0)"
                                  id="add-item"
                                  class="fw-medium"
                                  (click)="openAllowance(allowanceSelect)"
                                  ><i class="ri-add-fill me-1 align-bottom"></i> Add
                                  Allowance</a
                                >
                                <div
                                  class="col-2"
                                  [ngClass]="showAllowanceSelect ? 'd-block' : 'd-none'"
                                >
                                  <ng-container>
                                    <ng-select
                                      #allowanceSelect
                                      [items]="allowances"
                                      (change)="onSelectionChange($event)"
                                      bindLabel="name"
                                      placeholder="Select Allowance"
                                    >
                                      <ng-template ng-footer-tmp>
                                        <a
                                          class="btn btn-sm btn-primary w-100"
                                          (click)="addRow(null)"
                                        >
                                          Add Custom
                                        </a>
                                      </ng-template>
                                    </ng-select>
                                  </ng-container>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                          <thead class="align-middle">
                            <tr class="table-light">
                              <th scope="col" style="width: 50px">#</th>
                              <th scope="col">Deductions</th>
                
                              <th scope="col">Calculation</th>
                              <th scope="col" class="text-end" style="width: 150px">
                                Amount
                              </th>
                              <th scope="col" class="text-end" style="width: 105px"></th>
                            </tr>
                          </thead>
                          <tbody formArrayName="deductions">
                              @for (data of deductions.controls; track $index) {
                                  <tr class="border-top border-top-dashed mt-2" [formGroupName]="$index">
                                      <th scope="row" class="product-id"> {{ $index + 1 }}</th>
                                      <td class="text-start">
                                        <div class="mb-2">
                                          <input
                                    type="text"
                                    class="form-control w-50"
                                    id="name-deduction-{{ $index + 1 }}"
                                    formControlName="name"
                                    placeholder="Enter name"
                                    [readonly]="
                                     true
                                    "
                                  />
                
                                        </div>
                                      </td>
                                      <td class="text-end">

                                    

                                        <select
                                        class="form-select w-50"
                                        [formControlName]="'calculationType'"
                                        (change)="onCalculationDeductionTypeChange($event, $index)"
                                      
                                      >
                                        <ng-container *ngIf="data.get('name')?.value === 'PF'">
                                          <option [value]="'none'">None</option>
                                          <option [value]="'percentage'">12%</option>
                                        </ng-container>
                                      
                                        <ng-container *ngIf="data.get('name')?.value === 'ESI'">
                                          <option [value]="'none'">None</option>
                                          <option [value]="'percentage'">0.75%</option>
                                        </ng-container>
                                      
                                        <ng-container *ngIf="data.get('name')?.value === 'TDS'">
                                          <option [value]="'none'">None</option>
                                          <option [value]="'custom'">Custom</option>
                                        </ng-container>
                                      
                                        <ng-container *ngIf="data.get('name')?.value === 'Advance'">
                                          <option [value]="'none'">None</option>
                                          <option [value]="'100%'">100%</option>
                                          <option [value]="'50%'">50%</option>
                                          <option [value]="'custom'">Custom</option>
                                        </ng-container>
                                      
                                        <option [value]="'formula'">Formula Builder</option>
                                      </select>
                                      
                                      
                                        <!-- <select
                                        class="form-select w-50"
                                        [formControlName]="'calculationType'"
                                        (change)="calculateDeductions($index)"
                                      >
                                        <ng-container *ngIf="data.get('name')?.value === 'PF'">
                                          <option [ngValue]="'none'" >None</option>
                                          <option [ngValue]="'percentage'" >12%</option>
                                         
                                        </ng-container>
                                
                                        <ng-container *ngIf="data.get('name')?.value === 'ESI'">
                                          <option [ngValue]="'none'">None</option>
                                          <option [ngValue]="'percentage'">0.75%</option>
                                         
                                        </ng-container>
                                
                                        <ng-container *ngIf="data.get('name')?.value === 'TDS'">
                                          <option [ngValue]="'none'">None</option>
                                          <option [ngValue]="'custom'" >Custom</option>
                                        </ng-container>
                                        <ng-container *ngIf="data.get('name')?.value === 'Advance'">
                                            <option [ngValue]="'none'">None</option>
                                            <option [ngValue]="'100%'">100%</option>
                                            <option [ngValue]="'50%'">50%</option>
                                            <option [ngValue]="'custom'" >Custom</option>
                                          </ng-container>
                                        <option [ngValue]="'formula'">Formula Builder</option>
                
                                      </select> -->
                
                                        <!-- Formula Builder Input -->
                                  <div
                                  *ngIf="
                                    data.get('calculationType')?.value === 'formula'
                                  "
                                >
                                <div class="formula-calculator">
                                  <!-- Formula Display -->
                                  <div class="formula-display mb-3">
                                    <input 
                                      type="text" 
                                      class="form-control" 
                                      [formControlName]="'formula'"
                                      [placeholder]="'Enter formula'"
                                   
                                    />
                                    <!-- [readonly]="true" -->
                                  </div>
                                  <small class="text-muted">
                                    Use valid expressions for calculation.
                                  </small>
                                  <!-- Variables Section -->
                                  <div class="variables-section mb-3">
                                    <label class="d-block mb-2">Variables</label>
                                    <div class="variables-grid">
                                      <a 
                                        *ngFor="let variable of availableVariables"
                                        class="btn btn-outline-primary calc-btn"
                                        (click)="insertVariable(variable, $index, true)"
                                      >
                                        {{ variable.name }}: {{ variable.value }}
                                      </a>
                                    </div>
                                  </div>
                                
                                  <!-- Calculator Grid -->
                                  <div class="calculator-grid">
                                    <!-- Numbers and Operations -->
                                    <div class="calc-buttons">
                                      <div class="row g-1">
                                        <div class="col-3" *ngFor="let num of [7,8,9]">
                                          <a class="btn btn-light calc-btn w-100"   (click)="appendNumber(num , $index, true)">{{num}}</a>
                                        </div>
                                        <div class="col-3">
                                          <a class="btn btn-warning calc-btn w-100" (click)="insertOperation('/', $index, true)" >/</a>
                                        </div>
                                      </div>
                                      <div class="row g-1 mt-1">
                                        <div class="col-3" *ngFor="let num of [4,5,6]">
                                          <a class="btn btn-light calc-btn w-100"  (click)="appendNumber(num , $index, true)">{{num}}</a>
                                        </div>
                                        <div class="col-3">
                                          <a class="btn btn-warning calc-btn w-100" (click)="insertOperation('*', $index, true)" >×</a>
                                        </div>
                                      </div>
                                      <div class="row g-1 mt-1">
                                        <div class="col-3" *ngFor="let num of [1,2,3]">
                                          <a class="btn btn-light calc-btn w-100"  (click)="appendNumber(num , $index, true)">{{num}}</a>
                                        </div>
                                        <div class="col-3">
                                          <a class="btn btn-warning calc-btn w-100" (click)="insertOperation('-', $index, true)">-</a>
                                        </div>
                                      </div>
                                      <div class="row g-1 mt-1">
                                        <div class="col-3">
                                          <a class="btn btn-light calc-btn w-100" (click)="appendNumber(0 , $index, true)">0</a>
                                        </div>
                                        <div class="col-3">
                                          <a class="btn btn-light calc-btn w-100" (click)="appendDecimal($index, true)">.</a>
                                        </div>
                                        <div class="col-3">
                                          <a class="btn btn-danger calc-btn w-100" (click)="clear($index , true)">C</a>
                                        </div>
                                        <div class="col-3">
                                          <a class="btn btn-warning calc-btn w-100" (click)="insertOperation('+', $index, true)">+</a>
                                        </div>
                                      </div>
                                      <div class="row g-1 mt-1">
                                        <div class="col-3">
                                          <a class="btn btn-secondary calc-btn w-100" (click)="insertOperation('(', $index, true)" >(</a>
                                        </div>
                                        <div class="col-3">
                                          <a class="btn btn-secondary calc-btn w-100" (click)="insertOperation(')', $index, true)" >)</a>
                                        </div>
                                        <div class="col-3">
                                          <a class="btn btn-secondary calc-btn w-100"  (click)="insertOperation('%', $index, true)">%</a>
                                        </div>
                                        <div class="col-3">
                                          <a class="btn btn-success calc-btn w-100"   (click)="evaluateDeductionFormula($index)">=</a>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                <!--                         
                                  <input
                                    type="text"
                                    class="form-control"
                                    formControlName="formula"
                                    placeholder="Enter formula (e.g., netSalary + totalAmount)"
                                  />
                                  <small class="text-muted">
                                    Use valid expressions for calculation.
                                  </small>
                         
                                  <div class="mt-2">
                                    <label for="variables">Choose Variables:</label>
                                    <div>
                                      <a
                                        *ngFor="let variable of availableVariables"
                                        class="btn btn-outline-secondary btn-sm"
                                        (click)="insertVariable(variable, $index, true)"
                                      >
                                        {{ variable.name }}: {{ variable.value }}
                                      </a>
                                    </div>
                                  </div>
                
                                  <div class="mt-2">
                                    <label for="operations">Choose Operations:</label>
                                    <div>
                                      <a
                                        *ngFor="let operation of operations"
                                        class="btn btn-outline-secondary btn-sm"
                                        (click)="insertOperation(operation, $index, true)"
                                      >
                                        {{ operation }}
                                      </a>
                                    </div>
                                  </div>
                                  <button
                                    type="button"
                                    class="btn btn-outline-secondary btn-sm mt-2"
                                    (click)="evaluateDeductionFormula($index)"
                                  >
                                    Evaluate
                                  </button> -->
                                </div>
                
                            
                                <div
                                  *ngIf="
                                    data.get('formula')?.invalid &&
                                    data.get('formula')?.touched &&
                                    data.get('calculationType')?.value === 'formula'
                                  "
                                >
                                  <small class="invalid-text"
                                    >Formula is required.</small
                                  >
                                </div>
                
                                      </td>
                                      <td class="text-end">
                                   
                                        <input
                                        type="number"
                                        [value]="data.get('amount')?.value"
                                        class="form-control text-end"
                                        formControlName="amount"
                                        (input)="calculateTotalAmount()"
                                        [readonly]="data.get('calculationType')?.value?.trim() !== 'custom'"
                                      />

                                      </td>
                                      <td class="product-removal">
                                          <!-- @if($index != 0){
                                          <a
                                            href="javascript:void(0)"
                                            class="btn btn-danger"
                                            (click)="removeDeductionRow($index, 'deductions')">
                                            >Delete</a
                                          >
                                          } -->
                                        </td>
                                    </tr>
                              }
                
                            
                           
                           
                          </tbody>
                          <tbody>
                            <tr class="border-top border-top-dashed mt-2">
                                <td colspan="3"></td>
                                <td colspan="1" class="p-0">
                                  <table
                                    class="table table-borderless table-sm table-nowrap align-middle mb-0"
                                  >
                                  <tbody >
  
                                      <tr >
                                          <td >Total Earning </td>
                                          <td  class="text-end">Rs. {{breakupTotal}}</td>
                                      </tr>
                                      <tr >
                                          <td >Total Deduction</td>
                                          <td  class="text-end">Rs. {{deductionsTotal}}</td>
                                      </tr>
                                     
  
                                     
                                     
                                      <tr  class="border-top border-top-dashed fs-base">
                                          <th  scope="row">Total Amount</th>
                                          <th class="text-end">
                                            Rs. {{ totalAmount }}
                                          </th>
                                        
                                          <!-- <th  class="text-end">
                                              <input
                                              type="text"
                                              class="form-control text-end "
                                              id="cart-total"
                                              mask="separator.2"
                                              thousandSeparator=","
                                              decimalMarker="."
                                              placeholder="$0.00"
                                              readonly
                                              value="{{ totalAmount }}"
                                            />
                                          </th> -->
                                      </tr>
                                  </tbody>
                                    <!-- <tbody>
                                      
                                      <tr class="border-top border-top-dashed">
                                        <th scope="row">Total Amount</th>
                                        <td>
                                        
                                          <input
                                            type="text"
                                            class="form-control "
                                            id="cart-total"
                                            mask="separator.2"
                                            thousandSeparator=","
                                            decimalMarker="."
                                            placeholder="$0.00"
                                            readonly
                                            value="{{ totalAmount }}"
                                          />
                                        </td>
                                      </tr>
                                      <div *ngIf="totalError" class="text-danger">
                                        Total must equal Net Salary.
                                      </div>
                                    </tbody> -->
                                  </table>
                                 
                                </td>
                                <td ></td>
                              </tr>
                          </tbody>
                
                        
                        </table>
                        <!--end table-->
                      </div>
                    </div>
                  </form>
              </div>
        </div>
      </div>
    </div>
</div> 

  

