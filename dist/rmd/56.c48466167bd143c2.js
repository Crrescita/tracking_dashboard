"use strict";(self.webpackChunkSteex=self.webpackChunkSteex||[]).push([[56],{8056:(ai,E,c)=>{c.r(E),c.d(E,{ProductModule:()=>oi});var m=c(1368),g=c(2308),t=c(4496),l=c(6504),O=c(3756),p=c.n(O),C=c(3364),f=c(4400),_=c(6708),b=c(8216),y=c(1768);const Y=(o,n)=>({"bg-info-subtle text-info":o,"bg-danger-subtle text-danger":n});function w(o,n){if(1&o){const e=t.KQA();t.I0R(0,"tr")(1,"td",73),t.OEk(2),t.C$Y(),t.I0R(3,"td",74),t.OEk(4),t.C$Y(),t.I0R(5,"td",75)(6,"div",76)(7,"input",77),t.qCj("change",function(i){const s=t.usT(e).$implicit,d=t.GaO();return t.CGJ(d.categorysetStatus(s.id,i))}),t.C$Y(),t.I0R(8,"label",78)(9,"span",79),t.OEk(10),t.C$Y()()()(),t.I0R(11,"td",80)(12,"ul",81)(13,"li")(14,"a",82),t.qCj("click",function(){const r=t.usT(e).$implicit,s=t.GaO();return t.Gew(59).show(),t.CGJ(s.editcategory(r))}),t.wR5(15,"i",83),t.C$Y()(),t.I0R(16,"li")(17,"a",84),t.qCj("click",function(){const r=t.usT(e).$implicit,s=t.GaO();return t.CGJ(s.delete(r.id))}),t.wR5(18,"i",85),t.C$Y()()()()()}if(2&o){const e=n.$implicit,a=n.$index;t.yG2(2),t.oRS(" ",a+1," "),t.yG2(2),t.oRS(" ",e.title," "),t.yG2(3),t.E7m("checked","active"===e.status)("id","customSwitchsizemdteam"+a),t.yG2(),t.E7m("for","customSwitchsizemdteam"+a),t.yG2(),t.E7m("ngClass",t.IBC(7,Y,"active"===e.status,"inactive"===e.status)),t.yG2(),t.cNF(e.status)}}function S(o,n){1&o&&t.OEk(0," Add ")}function G(o,n){1&o&&t.OEk(0," Edit ")}function $(o,n){1&o&&(t.I0R(0,"div",86),t.OEk(1,"title is required."),t.C$Y())}function P(o,n){1&o&&(t.I0R(0,"div",86),t.OEk(1,"title must be at most 30 characters"),t.C$Y())}function x(o,n){1&o&&(t.I0R(0,"div",86),t.OEk(1,"description is required"),t.C$Y())}function A(o,n){if(1&o&&t.wR5(0,"img",99),2&o){const e=t.GaO(2);t.E7m("src",e.categoryselectedImagePreview,t.K6U)}}function T(o,n){if(1&o&&(t.I0R(0,"h5",100),t.OEk(1),t.C$Y()),2&o){const e=t.GaO(2);t.yG2(),t.oRS(" ",e.categoryselectedImage.name," ")}}function D(o,n){if(1&o&&(t.I0R(0,"p",101),t.OEk(1),t.C$Y()),2&o){const e=t.GaO(2);t.yG2(),t.oRS(" ",e.categoryselectedImage.size," ")}}function q(o,n){if(1&o){const e=t.KQA();t.I0R(0,"ul",87)(1,"li",88)(2,"div",89)(3,"div",90)(4,"div",91)(5,"div",92),t.yuY(6,A,1,1,"img",93),t.C$Y()(),t.I0R(7,"div",94)(8,"div",95),t.yuY(9,T,2,1,"h5",96)(10,D,2,1,"p",97),t.C$Y()(),t.I0R(11,"div",91)(12,"button",98),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.categoryremoveImage())}),t.OEk(13," Delete "),t.C$Y()()()()()()}if(2&o){const e=t.GaO();t.yG2(6),t.C0Y(6,e.categoryselectedImagePreview?6:-1),t.yG2(3),t.C0Y(9,e.categoryselectedImage.name?9:-1),t.yG2(),t.C0Y(10,e.categoryselectedImage.size?10:-1)}}function M(o,n){if(1&o&&(t.I0R(0,"div",102)(1,"div")(2,"label",51),t.OEk(3,"Uploaded Image"),t.C$Y(),t.I0R(4,"div")(5,"div"),t.wR5(6,"img",103),t.C$Y()()()()),2&o){const e=t.GaO();t.yG2(6),t.E7m("src",e.categoryuploadedImage,t.K6U)}}function F(o,n){1&o&&(t.I0R(0,"div",86),t.OEk(1,"Image is required."),t.C$Y())}function z(o,n){1&o&&(t.I0R(0,"div",86),t.OEk(1,"Status is required."),t.C$Y())}function L(o,n){1&o&&(t.I0R(0,"div",86),t.OEk(1,"position is required."),t.C$Y())}function j(o,n){1&o&&(t.I0R(0,"button",104),t.OEk(1," Save Changes "),t.C$Y())}function N(o,n){1&o&&(t.I0R(0,"button",105),t.wR5(1,"span",106),t.OEk(2," Please wait "),t.C$Y())}const U=o=>({"is-invalid":o});let B=(()=>{class o{constructor(e,a,i){this.formBuilder=e,this.api=a,this.toastService=i,this.titleChange=new t._w7,this.categoryData=[],this.categoryDataList=[],this.editId=null,this.addSaveButtonActive=!0,this.spinnerStatus=!1,this.categoryselectedImage=null,this.categoryselectedImagePreview=null,this.categoryuploadedImage=null,this.term="",this.currentPage=1,this.totalItems=0,this.itemsPerPage=5}ngOnInit(){this.breadCrumbItems=[{label:"Product",active:!0},{label:"Category ",active:!0}],this.getcategoryData(),this.initializeFormcategory()}initializeFormcategory(){this.category=this.formBuilder.group({title:["",[l.AQ.required,l.AQ.maxLength(30)]],description:["",[l.AQ.required]],image:[""],status:["",[l.AQ.required]],position:["",[l.AQ.required]]})}categoryimageValidator(){return e=>null==this.editId?l.AQ.required(e):null}get categorySec(){return this.category.controls}toggleSpinner(e){this.spinnerStatus=e,this.addSaveButtonActive=!e}getcategoryData(){this.api.getwithoutid("product-category").subscribe(e=>{e&&e.status?(this.categoryData=e.data||[],this.categoryDataList=e.data||[],this.updatePagination(),this.updateDisplayedItems()):this.handleError("Unexpected response format")},e=>{this.handleError(e.message||"An error occurred while fetching data")})}submitcategory(e){if(this.category.valid){this.toggleSpinner(!0);const a=this.createcategoryFormData();null!=this.editId?this.updatecategory(e,a,this.editId):this.addcategory(e,a)}else this.category.markAllAsTouched()}createcategoryFormData(){const e=new FormData;this.categoryselectedImage&&e.append("image",this.categoryselectedImage),e.append("title",this.categorySec.title.value),e.append("description",this.categorySec.description.value),e.append("status",this.categorySec.status.value),e.append("position",this.categorySec.position.value);const a=localStorage.getItem("currentUser"),r=(a?JSON.parse(a):{}).username||"Admin";return e.append(null!=this.editId?"updated_by":"created_by",r),e}updatecategory(e,a,i){this.api.put("product-category",i,a).subscribe(r=>this.handlecategoryResponse(r,e),r=>this.handleError(r))}addcategory(e,a){this.api.post("product-category",a).subscribe(i=>this.handlecategoryResponse(i,e),i=>this.handleError(i))}categorysetStatus(e,a){const r=a.target.checked?"active":"inactive",s=new FormData;s.append("status",r),this.toggleSpinner(!0),this.api.put("product-category",e,s).subscribe(d=>this.handlecategoryResponse(d,null),d=>this.handleError(d))}delete(e){e&&p().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(a=>{a.isConfirmed&&this.api.deleteWithId("product-category",e).subscribe(i=>this.handlecategoryResponse(i,"delete"),i=>this.handleError(i))})}handlecategoryResponse(e,a){this.toggleSpinner(!1),!0===e.status?(this.getcategoryData(),"delete"==a?this.toastService.success("Data deleted Successfully!!"):(this.toastService.success("Data Saved Successfully!!"),this.resetForm(),a.hide())):this.toastService.error(e.message)}resetForm(){this.categoryselectedImage=null,this.categoryselectedImagePreview=null,this.categoryuploadedImage=null,this.editId=null,this.category.reset()}handleError(e){this.toggleSpinner(!1)}categoryimageSelect(e){const a=e.target.files[0];a&&(this.categoryselectedImage=a,this.categoryselectedImagePreview=URL.createObjectURL(a))}categoryremoveImage(){this.categoryselectedImage=null,this.categoryselectedImagePreview=null}editcategory(e){this.initializeFormcategory(),this.editId=e.id,this.category.patchValue({title:e.title,description:e.description,position:e.position,status:e.status}),this.categoryuploadedImage=e.image}filterdata(){this.categoryData=this.term?this.categoryDataList.filter(e=>{const a=this.term.toLowerCase();return e.title.toLowerCase().includes(a)||e.status.toLowerCase().includes(a)}):this.categoryDataList.slice(0,5),this.updateNoResultDisplay()}updateNoResultDisplay(){const e=document.querySelector(".noresult"),a=document.getElementById("pagination-element");this.term&&0===this.categoryData.length?(e.style.display="block",a.classList.add("d-none")):(e.style.display="none",a.classList.remove("d-none"))}pageChanged(e){this.currentPage=e.page,this.updateDisplayedItems()}updatePagination(){this.totalItems=this.categoryDataList.length}updateDisplayedItems(){const e=(this.currentPage-1)*this.itemsPerPage;this.endItem=this.currentPage*this.itemsPerPage,this.categoryData=this.categoryDataList.slice(e,this.endItem)}static#t=this.\u0275fac=function(a){return new(a||o)(t.GI1(l.im),t.GI1(C.W),t.GI1(f.SA))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-add-category"]],outputs:{titleChange:"titleChange"},decls:129,vars:23,consts:[["title","category",3,"breadcrumbItems"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"col-lg-12"],[1,"card-body","ps-0"],[1,"row","align-items-center","g-2"],[1,"col-6","mt-0"],[1,"card-header","ps-0","pt-0"],[1,"d-flex","justify-content-between","align-items-center"],[1,"col-lg-5","d-flex","justify-content-end"],[1,"search-box"],["type","text","placeholder","Search",1,"form-control","search",3,"ngModel","ngModelChange","keyup"],[1,"ri-search-line","search-icon"],[1,"col-lg-1"],[1,"hstack","flex-wrap","gap-2"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-plus-circle","align-baseline","me-1"],[1,"table-responsive","table-card"],[1,"table","table-bordered","table-centered","align-middle","table-custom-effect","table-nowrap","mb-0"],[1,"text-muted","text-center"],["scope","col",1,"cursor-pointer"],["scope","col"],[1,"list","form-check-all","text-center"],[1,"noresult",2,"display","none"],[1,"text-center","py-4"],[1,"ph-magnifying-glass","fs-1","text-primary"],[1,"mt-2"],[1,"text-muted","mb-0"],["id","pagination-element",1,"row","align-items-center","mt-4","pt-2"],[1,"col-sm"],[1,"text-muted","text-center","text-sm-start"],[1,"fw-semibold"],[1,"col-sm-auto","mt-3","mt-sm-0"],[1,"pagination-wrap","hstack","gap-2","justify-content-center",3,"totalItems","itemsPerPage","pageChanged"],["bsModal","","id","team",1,"modal","fade"],["team","bs-modal"],[1,"modal-dialog"],[1,"modal-content","border-0"],[1,"modal-header","bg-success","p-3"],["id","editSection2ModalLabel",1,"modal-title","text-white"],["type","button",1,"btn-close","btn-close-white",3,"click"],[1,"tablelist-form",3,"formGroup","submit"],[1,"modal-body"],["id","alert-error-msg",1,"d-none","alert","alert-danger","py-2"],[1,"mb-3"],["for","title",1,"form-label"],[1,"text-danger"],["type","text","id","title","formControlName","title","placeholder","Enter title",1,"form-control",3,"ngClass"],["class","invalid-text"],[1,"form-label"],["placeholder","Enter Description","rows","3","formControlName","description",1,"form-control",3,"ngClass"],[1,"custom-modal-dropzone"],["type","file","id","categoryimageupload","accept","image/*","formControlName","image","hidden","",3,"change"],["categoryimageupload",""],["for","categoryimageupload",1,"custom-modalfile-input"],[1,"custom-modalfile-text"],[1,"custom-file-text2-modal"],["class","list-unstyled mb-0","id","dropzone-preview"],["class","col-lg-6 mt-3 mt-lg-0"],["for","addstatus",1,"form-label"],["formControlName","status","data-choices","","id","addstatus",1,"form-control",3,"ngClass"],["value",""],["value","active"],["value","inactive"],["for","position",1,"form-label"],["type","number","id","position","formControlName","position","placeholder","Enter position",1,"form-control",3,"ngClass"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button",1,"btn","btn-ghost-success",3,"click"],[1,"bi","bi-x-lg","align-baseline","me-1"],["type","submit","class","btn btn-primary","id","add-btn"],[1,"id"],[1,"instructor"],[1,"status"],[1,"form-switch","form-switch-md","mb-3"],["type","checkbox",1,"form-check-input",3,"checked","id","change"],[1,"form-check-label",3,"for"],[1,"badge","text-capitalize",3,"ngClass"],[1,"px-0"],[1,"d-flex","justify-content-center","gap-2","list-unstyled","mb-0"],[1,"btn","btn-subtle-secondary","btn-icon","btn-sm","edit-item-btn",3,"click"],[1,"ph-pencil","fs-5"],[1,"btn","btn-subtle-danger","btn-icon","btn-sm","remove-item-btn",3,"click"],[1,"ph-trash","fs-5"],[1,"invalid-text"],["id","dropzone-preview",1,"list-unstyled","mb-0"],["id","dropzone-preview-list",1,"mt-2"],[1,"border","rounded"],[1,"d-flex","flex-wrap","gap-2","p-2"],[1,"flex-shrink-0"],[1,"image-avatar","bg-light","rounded","p-2"],["class","img-fluid rounded d-block","alt","Dropzone-Image",3,"src"],[1,"flex-grow-1","me-1"],[1,"pt-1"],["class","fs-md mb-1"],["class","fs-sm text-muted mb-0"],[1,"btn","btn-sm","btn-danger",3,"click"],["alt","Dropzone-Image",1,"img-fluid","rounded","d-block",3,"src"],[1,"fs-md","mb-1"],[1,"fs-sm","text-muted","mb-0"],[1,"col-lg-6","mt-3","mt-lg-0"],["alt","Uploaded Thumbnail",1,"edit-thumbnail-img-fluid","rounded","d-block","w-50",3,"src"],["type","submit","id","add-btn",1,"btn","btn-primary"],["type","button","disabled","",1,"btn","btn-secondary"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(a,i){if(1&a){const r=t.KQA();t.wR5(0,"app-breadcrumbs",0),t.I0R(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",1)(6,"div",5)(7,"div",3)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),t.wR5(12,"div",10),t.C$Y()(),t.I0R(13,"div",11)(14,"div",12)(15,"input",13),t.iHE("ngModelChange",function(d){return t.kNx(i.term,d)||(i.term=d),d}),t.qCj("keyup",function(){return i.filterdata()}),t.C$Y(),t.wR5(16,"i",14),t.C$Y()(),t.I0R(17,"div",15)(18,"div",16)(19,"div")(20,"a",17),t.qCj("click",function(){return t.usT(r),t.Gew(59).show(),t.CGJ(i.resetForm())}),t.wR5(21,"i",18),t.OEk(22,"Add"),t.C$Y()()()()()(),t.I0R(23,"div",4)(24,"div",19)(25,"table",20)(26,"thead",21)(27,"tr")(28,"th",22),t.OEk(29,"S No."),t.C$Y(),t.I0R(30,"th",22),t.OEk(31,"Name"),t.C$Y(),t.I0R(32,"th",22),t.OEk(33,"Status"),t.C$Y(),t.I0R(34,"th",23),t.OEk(35,"Action"),t.C$Y()()(),t.I0R(36,"tbody",24),t.c53(37,w,19,10,"tr",null,t.wJt),t.C$Y()(),t.I0R(39,"div",25)(40,"div",26),t.wR5(41,"i",27),t.I0R(42,"h5",28),t.OEk(43,"Sorry! No Result Found"),t.C$Y(),t.I0R(44,"p",29),t.OEk(45," We did not find any Details for you search. "),t.C$Y()()()(),t.I0R(46,"div",30)(47,"div",31)(48,"div",32),t.OEk(49," Showing "),t.I0R(50,"span",33),t.OEk(51),t.C$Y(),t.OEk(52," of "),t.I0R(53,"span",33),t.OEk(54),t.C$Y(),t.OEk(55," Results "),t.C$Y()(),t.I0R(56,"div",34)(57,"pagination",35),t.qCj("pageChanged",function(d){return i.pageChanged(d)}),t.C$Y()()()()()()()()()()(),t.I0R(58,"div",36,37)(60,"div",38)(61,"div",39)(62,"div",40)(63,"h5",41),t.yuY(64,S,1,0)(65,G,1,0),t.C$Y(),t.I0R(66,"button",42),t.qCj("click",function(){t.usT(r);const d=t.Gew(59);return t.CGJ(d.hide())}),t.C$Y()(),t.I0R(67,"form",43),t.qCj("submit",function(){t.usT(r);const d=t.Gew(59);return t.CGJ(i.submitcategory(d))}),t.I0R(68,"div",44),t.wR5(69,"div",45),t.I0R(70,"div",46)(71,"label",47),t.OEk(72,"Title"),t.I0R(73,"span",48),t.OEk(74,"*"),t.C$Y()(),t.wR5(75,"input",49),t.yuY(76,$,2,0,"div",50)(77,P,2,0,"div",50),t.C$Y(),t.I0R(78,"div",46)(79,"label",51),t.OEk(80,"Description "),t.I0R(81,"span",48),t.OEk(82,"*"),t.C$Y()(),t.wR5(83,"textarea",52),t.yuY(84,x,2,0,"div",50),t.C$Y(),t.I0R(85,"div",46)(86,"label",51),t.OEk(87,"Image"),t.I0R(88,"span",48),t.OEk(89,"*"),t.C$Y()(),t.I0R(90,"div",53)(91,"input",54,55),t.qCj("change",function(d){return i.categoryimageSelect(d)}),t.C$Y(),t.I0R(93,"label",56)(94,"span",57),t.OEk(95,"Choose a file to upload. "),t.wR5(96,"br"),t.I0R(97,"span",58),t.OEk(98,"File size 250 \xd7 250 px "),t.C$Y()()()(),t.yuY(99,q,14,3,"ul",59)(100,M,7,1,"div",60)(101,F,2,0,"div",50),t.C$Y(),t.I0R(102,"div",46)(103,"label",61),t.OEk(104,"Status "),t.I0R(105,"span",48),t.OEk(106,"*"),t.C$Y()(),t.I0R(107,"select",62)(108,"option",63),t.OEk(109,"Select Status"),t.C$Y(),t.I0R(110,"option",64),t.OEk(111,"Active"),t.C$Y(),t.I0R(112,"option",65),t.OEk(113,"Inactive"),t.C$Y()(),t.yuY(114,z,2,0,"div",50),t.C$Y(),t.I0R(115,"div",46)(116,"label",66),t.OEk(117,"Position"),t.I0R(118,"span",48),t.OEk(119,"*"),t.C$Y()(),t.wR5(120,"input",67),t.yuY(121,L,2,0,"div",50),t.C$Y()(),t.I0R(122,"div",68)(123,"div",69)(124,"button",70),t.qCj("click",function(){t.usT(r);const d=t.Gew(59);return t.CGJ(d.hide())}),t.wR5(125,"i",71),t.OEk(126," Close "),t.C$Y(),t.yuY(127,j,2,0,"button",72)(128,N,3,0),t.C$Y()()()()()()}2&a&&(t.E7m("breadcrumbItems",i.breadCrumbItems),t.yG2(15),t.OKB("ngModel",i.term),t.yG2(22),t.oho(i.categoryData),t.yG2(14),t.cNF(null==i.categoryData?null:i.categoryData.length),t.yG2(3),t.cNF(null==i.categoryDataList?null:i.categoryDataList.length),t.yG2(3),t.E7m("totalItems",null==i.categoryDataList?null:i.categoryDataList.length)("itemsPerPage",5),t.yG2(7),t.C0Y(64,null==i.editId?64:65),t.yG2(3),t.E7m("formGroup",i.category),t.yG2(8),t.E7m("ngClass",i.categorySec.title&&i.categorySec.title.hasError("required")&&i.categorySec.title.touched?"is-invalid":""),t.yG2(),t.C0Y(76,i.categorySec.title&&i.categorySec.title.hasError("required")&&i.categorySec.title.touched?76:-1),t.yG2(),t.C0Y(77,i.categorySec.title&&i.categorySec.title.hasError("maxlength")&&i.categorySec.title.touched?77:-1),t.yG2(6),t.E7m("ngClass",t.S45(21,U,i.categorySec.description&&i.categorySec.description.errors&&i.categorySec.description.touched)),t.yG2(),t.C0Y(84,i.categorySec.description&&i.categorySec.description.hasError("required")&&i.categorySec.description.touched?84:-1),t.yG2(15),t.C0Y(99,i.categoryselectedImage?99:-1),t.yG2(),t.C0Y(100,i.categoryuploadedImage?100:-1),t.yG2(),t.C0Y(101,i.categorySec.image&&i.categorySec.image.hasError("required")&&i.categorySec.image.touched?101:-1),t.yG2(6),t.E7m("ngClass",i.categorySec.status&&i.categorySec.status.hasError("required")&&i.categorySec.status.touched?"is-invalid":""),t.yG2(7),t.C0Y(114,i.categorySec.status&&i.categorySec.status.hasError("required")&&i.categorySec.status.touched?114:-1),t.yG2(6),t.E7m("ngClass",i.categorySec.position&&i.categorySec.position.hasError("required")&&i.categorySec.position.touched?"is-invalid":""),t.yG2(),t.C0Y(121,i.categorySec.position&&i.categorySec.position.hasError("required")&&i.categorySec.position.touched?121:-1),t.yG2(6),t.C0Y(127,i.addSaveButtonActive?127:128))},dependencies:[m.QF,_.O,l.sz,l.wd,l.GO,l.ot,l.O4,l.GC,l.ue,l.u,l._G,l.uW,l.Wo,b.im,y.uK],styles:['@charset "UTF-8";.dz-preview.dz-file-preview.dz-processing.dz-success.dz-comp\\200c\\200blete[_ngcontent-%COMP%]{display:block!important}.custom-file-text2[_ngcontent-%COMP%]{font-size:.7rem;color:#b3b3b3}.findus-heading[_ngcontent-%COMP%]{color:#000}.custom-dropzone[_ngcontent-%COMP%]{min-height:230px!important;border:2px dashed var(--tb-border-color);background:var(--tb-secondary-bg)!important;border-radius:6px!important;text-align:center;box-sizing:border-box;padding:20px;display:block;width:100%;height:auto}.uploaded-img[_ngcontent-%COMP%]{min-height:230px!important;border-radius:6px!important;text-align:center;box-sizing:border-box;display:block;width:100%;height:auto}.thumbnail-img-fluid[_ngcontent-%COMP%]{max-width:100%;height:274px}.custom-file-input[_ngcontent-%COMP%]{width:100%;min-height:230px!important;cursor:pointer;display:flex;justify-content:center;align-items:center}.custom-file-text[_ngcontent-%COMP%]{font-size:1.5rem;color:#666}.selected-file[_ngcontent-%COMP%]{width:100%;min-height:230px!important;display:flex;justify-content:center;align-items:center}.invalid-text[_ngcontent-%COMP%]{color:#ff6c6c;margin-top:4px}.file-invalid[_ngcontent-%COMP%]{border:2px dashed #ff6c6c}.videoo-avatar-sm[_ngcontent-%COMP%]{width:3rem}.founder-heading[_ngcontent-%COMP%]{color:#000}.image-avatar[_ngcontent-%COMP%]{width:3rem}.uploaded-image-avatar[_ngcontent-%COMP%]{width:5rem}.multi-image-scroll[_ngcontent-%COMP%]{height:270px;overflow-y:scroll}.multi-image-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.multi-image-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:transparent;border-radius:10px}.multi-image-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#8080804a;border-radius:10px}.custom-modal-dropzone[_ngcontent-%COMP%]{height:150px!important;border:2px dashed var(--tb-border-color);background:var(--tb-secondary-bg)!important;border-radius:6px!important;text-align:center;box-sizing:border-box;padding:20px;display:block;width:100%;height:auto}.custom-modalfile-input[_ngcontent-%COMP%]{width:100%;height:100%!important;cursor:pointer;display:flex;justify-content:center;align-items:center}.custom-modalfile-text[_ngcontent-%COMP%]{font-size:1rem;color:#666}.edit-thumbnail-img-fluid[_ngcontent-%COMP%]{max-width:100%}.custom-file-text2[_ngcontent-%COMP%]{font-size:1rem;color:#b3b3b3}.custom-file-text2-mob[_ngcontent-%COMP%]{font-size:.8rem;color:#b3b3b3}.custom-file-text-mob[_ngcontent-%COMP%]{font-size:1rem;color:#666}']})}return o})();function Q(o,n){if(1&o){const e=t.KQA();t.I0R(0,"a",72),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.Gew(60).show(),t.CGJ(i.resetForm())}),t.wR5(1,"i",73),t.OEk(2,"Add"),t.C$Y()}}function J(o,n){if(1&o){const e=t.KQA();t.I0R(0,"a",72),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.showError())}),t.wR5(1,"i",73),t.OEk(2,"Add"),t.C$Y()}}function V(o,n){if(1&o&&t.OEk(0),2&o){const e=t.GaO().$implicit;t.oRS(" ",e.title," ")}}function K(o,n){if(1&o&&t.yuY(0,V,1,1),2&o){const e=n.$implicit,a=t.GaO().$implicit;t.C0Y(0,a.category_id==e.id?0:-1)}}const W=(o,n)=>({"bg-info-subtle text-info":o,"bg-danger-subtle text-danger":n});function H(o,n){if(1&o){const e=t.KQA();t.I0R(0,"tr")(1,"td",74),t.OEk(2),t.C$Y(),t.I0R(3,"td",75),t.OEk(4),t.C$Y(),t.I0R(5,"td",75),t.c53(6,K,1,1,null,null,t.wJt),t.C$Y(),t.I0R(8,"td",76)(9,"div",77)(10,"input",78),t.qCj("change",function(i){const s=t.usT(e).$implicit,d=t.GaO();return t.CGJ(d.categorysetStatus(s.id,i))}),t.C$Y(),t.I0R(11,"label",79)(12,"span",80),t.OEk(13),t.C$Y()()()(),t.I0R(14,"td",81)(15,"ul",82)(16,"li")(17,"a",83),t.qCj("click",function(){const r=t.usT(e).$implicit,s=t.GaO();return t.Gew(60).show(),t.CGJ(s.editcategory(r))}),t.wR5(18,"i",84),t.C$Y()(),t.I0R(19,"li")(20,"a",85),t.qCj("click",function(){const r=t.usT(e).$implicit,s=t.GaO();return t.CGJ(s.delete(r.id))}),t.wR5(21,"i",86),t.C$Y()()()()()}if(2&o){const e=n.$implicit,a=n.$index,i=t.GaO();t.yG2(2),t.oRS(" ",a+1," "),t.yG2(2),t.oRS(" ",e.title," "),t.yG2(2),t.oho(i.categoryData),t.yG2(4),t.E7m("checked","active"===e.status)("id","customSwitchsizemdteam"+a),t.yG2(),t.E7m("for","customSwitchsizemdteam"+a),t.yG2(),t.E7m("ngClass",t.IBC(7,W,"active"===e.status,"inactive"===e.status)),t.yG2(),t.cNF(e.status)}}function X(o,n){1&o&&t.OEk(0," Add ")}function Z(o,n){1&o&&t.OEk(0," Edit ")}function tt(o,n){if(1&o&&(t.I0R(0,"option",87),t.OEk(1),t.C$Y()),2&o){const e=n.$implicit;t._6D("value",e.id),t.yG2(),t.cNF(e.title)}}function et(o,n){1&o&&(t.I0R(0,"div",88),t.OEk(1,"Category is required."),t.C$Y())}function it(o,n){1&o&&(t.I0R(0,"div",88),t.OEk(1,"title is required."),t.C$Y())}function ot(o,n){1&o&&(t.I0R(0,"div",88),t.OEk(1,"title must be at most 30 characters"),t.C$Y())}function at(o,n){1&o&&(t.I0R(0,"div",88),t.OEk(1,"description is required"),t.C$Y())}function nt(o,n){if(1&o&&t.wR5(0,"img",101),2&o){const e=t.GaO(2);t.E7m("src",e.categoryselectedImagePreview,t.K6U)}}function rt(o,n){if(1&o&&(t.I0R(0,"h5",102),t.OEk(1),t.C$Y()),2&o){const e=t.GaO(2);t.yG2(),t.oRS(" ",e.categoryselectedImage.name," ")}}function st(o,n){if(1&o&&(t.I0R(0,"p",103),t.OEk(1),t.C$Y()),2&o){const e=t.GaO(2);t.yG2(),t.oRS(" ",e.categoryselectedImage.size," ")}}function dt(o,n){if(1&o){const e=t.KQA();t.I0R(0,"ul",89)(1,"li",90)(2,"div",91)(3,"div",92)(4,"div",93)(5,"div",94),t.yuY(6,nt,1,1,"img",95),t.C$Y()(),t.I0R(7,"div",96)(8,"div",97),t.yuY(9,rt,2,1,"h5",98)(10,st,2,1,"p",99),t.C$Y()(),t.I0R(11,"div",93)(12,"button",100),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.categoryremoveImage())}),t.OEk(13," Delete "),t.C$Y()()()()()()}if(2&o){const e=t.GaO();t.yG2(6),t.C0Y(6,e.categoryselectedImagePreview?6:-1),t.yG2(3),t.C0Y(9,e.categoryselectedImage.name?9:-1),t.yG2(),t.C0Y(10,e.categoryselectedImage.size?10:-1)}}function lt(o,n){if(1&o&&(t.I0R(0,"div",104)(1,"div")(2,"label",53),t.OEk(3,"Uploaded Image"),t.C$Y(),t.I0R(4,"div")(5,"div"),t.wR5(6,"img",105),t.C$Y()()()()),2&o){const e=t.GaO();t.yG2(6),t.E7m("src",e.categoryuploadedImage,t.K6U)}}function ct(o,n){1&o&&(t.I0R(0,"div",88),t.OEk(1,"Image is required."),t.C$Y())}function ut(o,n){1&o&&(t.I0R(0,"div",88),t.OEk(1,"Status is required."),t.C$Y())}function mt(o,n){1&o&&(t.I0R(0,"button",106),t.OEk(1," Save Changes "),t.C$Y())}function pt(o,n){1&o&&(t.I0R(0,"button",107),t.wR5(1,"span",108),t.OEk(2," Please wait "),t.C$Y())}const gt=o=>({"is-invalid":o});let ht=(()=>{class o{constructor(e,a,i,r){this.formBuilder=e,this.api=a,this.toastService=i,this.router=r,this.titleChange=new t._w7,this.subcategoryData=[],this.subcategoryDataList=[],this.editId=null,this.addSaveButtonActive=!0,this.spinnerStatus=!1,this.categoryselectedImage=null,this.categoryselectedImagePreview=null,this.categoryuploadedImage=null,this.categoryData=[],this.term="",this.currentPage=1,this.totalItems=0,this.itemsPerPage=5}ngOnInit(){this.breadCrumbItems=[{label:"Product",active:!0},{label:"Sub Category ",active:!0}],this.getCategoryData(),this.getSubCategoryData(),this.initializeFormcategory()}initializeFormcategory(){this.category=this.formBuilder.group({title:["",[l.AQ.required,l.AQ.maxLength(30)]],description:["",[l.AQ.required]],image:[""],status:["",[l.AQ.required]],category_id:["",[l.AQ.required]]})}categoryimageValidator(){return e=>null==this.editId?l.AQ.required(e):null}get categorySec(){return this.category.controls}toggleSpinner(e){this.spinnerStatus=e,this.addSaveButtonActive=!e}getCategoryData(){this.api.getwithoutid("product-category?columns=id,title").subscribe(e=>{e&&e.status?this.categoryData=e.data||[]:this.handleError("Unexpected response format")},e=>{this.handleError(e.message||"An error occurred while fetching data")})}getSubCategoryData(){this.api.getwithoutid("product-sub-category").subscribe(e=>{e&&e.status?(this.subcategoryData=e.data||[],this.subcategoryDataList=e.data||[],this.updatePagination(),this.updateDisplayedItems()):this.handleError("Unexpected response format")},e=>{this.handleError(e.message||"An error occurred while fetching data")})}submitcategory(e){if(this.category.valid){this.toggleSpinner(!0);const a=this.createcategoryFormData();null!=this.editId?this.updatecategory(e,a,this.editId):this.addcategory(e,a)}else this.category.markAllAsTouched()}createcategoryFormData(){const e=new FormData;this.categoryselectedImage&&e.append("image",this.categoryselectedImage),e.append("title",this.categorySec.title.value),e.append("description",this.categorySec.description.value),e.append("status",this.categorySec.status.value);const a=localStorage.getItem("currentUser"),r=(a?JSON.parse(a):{}).username||"Admin";return e.append(null!=this.editId?"updated_by":"created_by",r),e.append("category_id",this.categorySec.category_id.value),e}updatecategory(e,a,i){this.api.put("product-sub-category",i,a).subscribe(r=>this.handlecategoryResponse(r,e),r=>this.handleError(r))}addcategory(e,a){this.api.post("product-sub-category",a).subscribe(i=>this.handlecategoryResponse(i,e),i=>this.handleError(i))}categorysetStatus(e,a){const r=a.target.checked?"active":"inactive",s=new FormData;s.append("status",r),this.toggleSpinner(!0),this.api.put("product-sub-category",e,s).subscribe(d=>this.handlecategoryResponse(d,null),d=>this.handleError(d))}delete(e){e&&p().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(a=>{a.isConfirmed&&this.api.deleteWithId("product-sub-category",e).subscribe(i=>this.handlecategoryResponse(i,"delete"),i=>this.handleError(i))})}handlecategoryResponse(e,a){this.toggleSpinner(!1),!0===e.status?(this.getSubCategoryData(),"delete"==a?this.toastService.success("Data deleted Successfully!!"):(this.toastService.success("Data Saved Successfully!!"),this.resetForm(),a.hide())):this.toastService.error(e.message)}resetForm(){this.categoryselectedImage=null,this.categoryselectedImagePreview=null,this.categoryuploadedImage=null,this.editId=null,this.category.reset()}handleError(e){this.toggleSpinner(!1)}categoryimageSelect(e){const a=e.target.files[0];a&&(this.categoryselectedImage=a,this.categoryselectedImagePreview=URL.createObjectURL(a))}categoryremoveImage(){this.categoryselectedImage=null,this.categoryselectedImagePreview=null}editcategory(e){this.initializeFormcategory(),this.editId=e.id,this.category.patchValue({title:e.title,description:e.description,status:e.status,category_id:e.category_id}),this.categoryuploadedImage=e.image}filterdata(){this.subcategoryData=this.term?this.subcategoryDataList.filter(e=>{const a=this.term.toLowerCase();return e.title.toLowerCase().includes(a)||e.status.toLowerCase().includes(a)}):this.subcategoryDataList.slice(0,5),this.updateNoResultDisplay()}updateNoResultDisplay(){const e=document.querySelector(".noresult"),a=document.getElementById("pagination-element");this.term&&0===this.subcategoryData.length?(e.style.display="block",a.classList.add("d-none")):(e.style.display="none",a.classList.remove("d-none"))}pageChanged(e){this.currentPage=e.page,this.updateDisplayedItems()}updatePagination(){this.totalItems=this.subcategoryDataList.length}updateDisplayedItems(){const e=(this.currentPage-1)*this.itemsPerPage;this.endItem=this.currentPage*this.itemsPerPage,this.subcategoryData=this.subcategoryDataList.slice(e,this.endItem)}showError(){p().fire({title:"Looks like you haven't created a product category.",text:"Please add a product category.",icon:"warning",showCancelButton:!0,confirmButtonText:"Add Category",cancelButtonText:"Cancel",reverseButtons:!0}).then(e=>{e.isConfirmed?this.router.navigate(["products/add-category"]):e.dismiss===p().DismissReason.cancel&&p().fire("Cancelled","Please add a category to proceed.","info")})}static#t=this.\u0275fac=function(a){return new(a||o)(t.GI1(l.im),t.GI1(C.W),t.GI1(f.SA),t.GI1(g.E5))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-add-sub-category"]],outputs:{titleChange:"titleChange"},decls:134,vars:24,consts:[["title","sub category",3,"breadcrumbItems"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"col-lg-12"],[1,"card-body","ps-0"],[1,"row","align-items-center","g-2"],[1,"col-6","mt-0"],[1,"card-header","ps-0","pt-0"],[1,"d-flex","justify-content-between","align-items-center"],[1,"col-lg-5","d-flex","justify-content-end"],[1,"search-box"],["type","text","placeholder","Search",1,"form-control","search",3,"ngModel","ngModelChange","keyup"],[1,"ri-search-line","search-icon"],[1,"col-lg-1"],[1,"hstack","flex-wrap","gap-2"],["class","btn btn-secondary"],[1,"table-responsive","table-card"],[1,"table","table-bordered","table-centered","align-middle","table-custom-effect","table-nowrap","mb-0"],[1,"text-muted","text-center"],["scope","col",1,"cursor-pointer"],["scope","col"],[1,"list","form-check-all","text-center"],[1,"noresult",2,"display","none"],[1,"text-center","py-4"],[1,"ph-magnifying-glass","fs-1","text-primary"],[1,"mt-2"],[1,"text-muted","mb-0"],["id","pagination-element",1,"row","align-items-center","mt-4","pt-2"],[1,"col-sm"],[1,"text-muted","text-center","text-sm-start"],[1,"fw-semibold"],[1,"col-sm-auto","mt-3","mt-sm-0"],[1,"pagination-wrap","hstack","gap-2","justify-content-center",3,"totalItems","itemsPerPage","pageChanged"],["bsModal","","id","team",1,"modal","fade"],["team","bs-modal"],[1,"modal-dialog"],[1,"modal-content","border-0"],[1,"modal-header","bg-success","p-3"],["id","editSection2ModalLabel",1,"modal-title","text-white"],["type","button",1,"btn-close","btn-close-white",3,"click"],[1,"tablelist-form",3,"formGroup","submit"],[1,"modal-body"],["id","alert-error-msg",1,"d-none","alert","alert-danger","py-2"],[1,"mb-3"],["for","category_id",1,"form-label"],[1,"text-danger"],["formControlName","category_id","data-choices","","id","category_id",1,"form-control",3,"ngClass"],["value",""],["class","invalid-text"],["for","title",1,"form-label"],["type","text","id","title","formControlName","title","placeholder","Enter title",1,"form-control",3,"ngClass"],[1,"form-label"],["placeholder","Enter Description","rows","3","formControlName","description",1,"form-control",3,"ngClass"],[1,"custom-modal-dropzone"],["type","file","id","categoryimageupload","accept","image/*","formControlName","image","hidden","",3,"change"],["categoryimageupload",""],["for","categoryimageupload",1,"custom-modalfile-input"],[1,"custom-modalfile-text"],[1,"custom-file-text2-modal"],["class","list-unstyled mb-0","id","dropzone-preview"],["class","col-lg-6 mt-3 mt-lg-0"],["for","addstatus",1,"form-label"],["formControlName","status","data-choices","","id","addstatus",1,"form-control",3,"ngClass"],["value","active"],["value","inactive"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button",1,"btn","btn-ghost-success",3,"click"],[1,"bi","bi-x-lg","align-baseline","me-1"],["type","submit","class","btn btn-primary","id","add-btn"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-plus-circle","align-baseline","me-1"],[1,"id"],[1,"instructor"],[1,"status"],[1,"form-switch","form-switch-md","mb-3"],["type","checkbox",1,"form-check-input",3,"checked","id","change"],[1,"form-check-label",3,"for"],[1,"badge","text-capitalize",3,"ngClass"],[1,"px-0"],[1,"d-flex","justify-content-center","gap-2","list-unstyled","mb-0"],[1,"btn","btn-subtle-secondary","btn-icon","btn-sm","edit-item-btn",3,"click"],[1,"ph-pencil","fs-5"],[1,"btn","btn-subtle-danger","btn-icon","btn-sm","remove-item-btn",3,"click"],[1,"ph-trash","fs-5"],[3,"value"],[1,"invalid-text"],["id","dropzone-preview",1,"list-unstyled","mb-0"],["id","dropzone-preview-list",1,"mt-2"],[1,"border","rounded"],[1,"d-flex","flex-wrap","gap-2","p-2"],[1,"flex-shrink-0"],[1,"image-avatar","bg-light","rounded","p-2"],["class","img-fluid rounded d-block","alt","Dropzone-Image",3,"src"],[1,"flex-grow-1","me-1"],[1,"pt-1"],["class","fs-md mb-1"],["class","fs-sm text-muted mb-0"],[1,"btn","btn-sm","btn-danger",3,"click"],["alt","Dropzone-Image",1,"img-fluid","rounded","d-block",3,"src"],[1,"fs-md","mb-1"],[1,"fs-sm","text-muted","mb-0"],[1,"col-lg-6","mt-3","mt-lg-0"],["alt","Uploaded Thumbnail",1,"edit-thumbnail-img-fluid","rounded","d-block","w-50",3,"src"],["type","submit","id","add-btn",1,"btn","btn-primary"],["type","button","disabled","",1,"btn","btn-secondary"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(a,i){if(1&a){const r=t.KQA();t.wR5(0,"app-breadcrumbs",0),t.I0R(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",1)(6,"div",5)(7,"div",3)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),t.wR5(12,"div",10),t.C$Y()(),t.I0R(13,"div",11)(14,"div",12)(15,"input",13),t.iHE("ngModelChange",function(d){return t.kNx(i.term,d)||(i.term=d),d}),t.qCj("keyup",function(){return i.filterdata()}),t.C$Y(),t.wR5(16,"i",14),t.C$Y()(),t.I0R(17,"div",15)(18,"div",16)(19,"div"),t.yuY(20,Q,3,0,"a",17)(21,J,3,0),t.C$Y()()()()(),t.I0R(22,"div",4)(23,"div",18)(24,"table",19)(25,"thead",20)(26,"tr")(27,"th",21),t.OEk(28,"S No."),t.C$Y(),t.I0R(29,"th",21),t.OEk(30,"Name"),t.C$Y(),t.I0R(31,"th",21),t.OEk(32,"Category"),t.C$Y(),t.I0R(33,"th",21),t.OEk(34,"Status"),t.C$Y(),t.I0R(35,"th",22),t.OEk(36,"Action"),t.C$Y()()(),t.I0R(37,"tbody",23),t.c53(38,H,22,10,"tr",null,t.wJt),t.C$Y()(),t.I0R(40,"div",24)(41,"div",25),t.wR5(42,"i",26),t.I0R(43,"h5",27),t.OEk(44,"Sorry! No Result Found"),t.C$Y(),t.I0R(45,"p",28),t.OEk(46," We did not find any Details for you search. "),t.C$Y()()()(),t.I0R(47,"div",29)(48,"div",30)(49,"div",31),t.OEk(50," Showing "),t.I0R(51,"span",32),t.OEk(52),t.C$Y(),t.OEk(53," of "),t.I0R(54,"span",32),t.OEk(55),t.C$Y(),t.OEk(56," Results "),t.C$Y()(),t.I0R(57,"div",33)(58,"pagination",34),t.qCj("pageChanged",function(d){return i.pageChanged(d)}),t.C$Y()()()()()()()()()()(),t.I0R(59,"div",35,36)(61,"div",37)(62,"div",38)(63,"div",39)(64,"h5",40),t.yuY(65,X,1,0)(66,Z,1,0),t.C$Y(),t.I0R(67,"button",41),t.qCj("click",function(){t.usT(r);const d=t.Gew(60);return t.CGJ(d.hide())}),t.C$Y()(),t.I0R(68,"form",42),t.qCj("submit",function(){t.usT(r);const d=t.Gew(60);return t.CGJ(i.submitcategory(d))}),t.I0R(69,"div",43),t.wR5(70,"div",44),t.I0R(71,"div",45)(72,"label",46),t.OEk(73,"Category "),t.I0R(74,"span",47),t.OEk(75,"*"),t.C$Y()(),t.I0R(76,"select",48)(77,"option",49),t.OEk(78,"Select Category"),t.C$Y(),t.c53(79,tt,2,2,"option",87,t.wJt),t.C$Y(),t.yuY(81,et,2,0,"div",50),t.C$Y(),t.I0R(82,"div",45)(83,"label",51),t.OEk(84,"Title"),t.I0R(85,"span",47),t.OEk(86,"*"),t.C$Y()(),t.wR5(87,"input",52),t.yuY(88,it,2,0,"div",50)(89,ot,2,0,"div",50),t.C$Y(),t.I0R(90,"div",45)(91,"label",53),t.OEk(92,"Description "),t.I0R(93,"span",47),t.OEk(94,"*"),t.C$Y()(),t.wR5(95,"textarea",54),t.yuY(96,at,2,0,"div",50),t.C$Y(),t.I0R(97,"div",45)(98,"label",53),t.OEk(99,"Image"),t.I0R(100,"span",47),t.OEk(101,"*"),t.C$Y()(),t.I0R(102,"div",55)(103,"input",56,57),t.qCj("change",function(d){return i.categoryimageSelect(d)}),t.C$Y(),t.I0R(105,"label",58)(106,"span",59),t.OEk(107,"Choose a file to upload. "),t.wR5(108,"br"),t.I0R(109,"span",60),t.OEk(110,"File size 250 \xd7 250 px "),t.C$Y()()()(),t.yuY(111,dt,14,3,"ul",61)(112,lt,7,1,"div",62)(113,ct,2,0,"div",50),t.C$Y(),t.I0R(114,"div",45)(115,"label",63),t.OEk(116,"Status "),t.I0R(117,"span",47),t.OEk(118,"*"),t.C$Y()(),t.I0R(119,"select",64)(120,"option",49),t.OEk(121,"Select Status"),t.C$Y(),t.I0R(122,"option",65),t.OEk(123,"Active"),t.C$Y(),t.I0R(124,"option",66),t.OEk(125,"Inactive"),t.C$Y()(),t.yuY(126,ut,2,0,"div",50),t.C$Y()(),t.I0R(127,"div",67)(128,"div",68)(129,"button",69),t.qCj("click",function(){t.usT(r);const d=t.Gew(60);return t.CGJ(d.hide())}),t.wR5(130,"i",70),t.OEk(131," Close "),t.C$Y(),t.yuY(132,mt,2,0,"button",71)(133,pt,3,0),t.C$Y()()()()()()}2&a&&(t.E7m("breadcrumbItems",i.breadCrumbItems),t.yG2(15),t.OKB("ngModel",i.term),t.yG2(5),t.C0Y(20,i.categoryData?20:21),t.yG2(18),t.oho(i.subcategoryData),t.yG2(14),t.cNF(null==i.subcategoryData?null:i.subcategoryData.length),t.yG2(3),t.cNF(null==i.subcategoryDataList?null:i.subcategoryDataList.length),t.yG2(3),t.E7m("totalItems",null==i.subcategoryDataList?null:i.subcategoryDataList.length)("itemsPerPage",5),t.yG2(7),t.C0Y(65,null==i.editId?65:66),t.yG2(3),t.E7m("formGroup",i.category),t.yG2(8),t.E7m("ngClass",i.categorySec.category_id&&i.categorySec.category_id.hasError("required")&&i.categorySec.category_id.touched?"is-invalid":""),t.yG2(3),t.oho(i.categoryData),t.yG2(2),t.C0Y(81,i.categorySec.category_id&&i.categorySec.category_id.hasError("required")&&i.categorySec.category_id.touched?81:-1),t.yG2(6),t.E7m("ngClass",i.categorySec.title&&i.categorySec.title.hasError("required")&&i.categorySec.title.touched?"is-invalid":""),t.yG2(),t.C0Y(88,i.categorySec.title&&i.categorySec.title.hasError("required")&&i.categorySec.title.touched?88:-1),t.yG2(),t.C0Y(89,i.categorySec.title&&i.categorySec.title.hasError("maxlength")&&i.categorySec.title.touched?89:-1),t.yG2(6),t.E7m("ngClass",t.S45(22,gt,i.categorySec.description&&i.categorySec.description.errors&&i.categorySec.description.touched)),t.yG2(),t.C0Y(96,i.categorySec.description&&i.categorySec.description.hasError("required")&&i.categorySec.description.touched?96:-1),t.yG2(15),t.C0Y(111,i.categoryselectedImage?111:-1),t.yG2(),t.C0Y(112,i.categoryuploadedImage?112:-1),t.yG2(),t.C0Y(113,i.categorySec.image&&i.categorySec.image.hasError("required")&&i.categorySec.image.touched?113:-1),t.yG2(6),t.E7m("ngClass",i.categorySec.status&&i.categorySec.status.hasError("required")&&i.categorySec.status.touched?"is-invalid":""),t.yG2(7),t.C0Y(126,i.categorySec.status&&i.categorySec.status.hasError("required")&&i.categorySec.status.touched?126:-1),t.yG2(6),t.C0Y(132,i.addSaveButtonActive?132:133))},dependencies:[m.QF,_.O,l.sz,l.wd,l.GO,l.ot,l.GC,l.ue,l.u,l._G,l.uW,l.Wo,b.im,y.uK],styles:['@charset "UTF-8";.dz-preview.dz-file-preview.dz-processing.dz-success.dz-comp\\200c\\200blete[_ngcontent-%COMP%]{display:block!important}.custom-file-text2[_ngcontent-%COMP%]{font-size:.7rem;color:#b3b3b3}.findus-heading[_ngcontent-%COMP%]{color:#000}.custom-dropzone[_ngcontent-%COMP%]{min-height:230px!important;border:2px dashed var(--tb-border-color);background:var(--tb-secondary-bg)!important;border-radius:6px!important;text-align:center;box-sizing:border-box;padding:20px;display:block;width:100%;height:auto}.uploaded-img[_ngcontent-%COMP%]{min-height:230px!important;border-radius:6px!important;text-align:center;box-sizing:border-box;display:block;width:100%;height:auto}.thumbnail-img-fluid[_ngcontent-%COMP%]{max-width:100%;height:274px}.custom-file-input[_ngcontent-%COMP%]{width:100%;min-height:230px!important;cursor:pointer;display:flex;justify-content:center;align-items:center}.custom-file-text[_ngcontent-%COMP%]{font-size:1.5rem;color:#666}.selected-file[_ngcontent-%COMP%]{width:100%;min-height:230px!important;display:flex;justify-content:center;align-items:center}.invalid-text[_ngcontent-%COMP%]{color:#ff6c6c;margin-top:4px}.file-invalid[_ngcontent-%COMP%]{border:2px dashed #ff6c6c}.videoo-avatar-sm[_ngcontent-%COMP%]{width:3rem}.founder-heading[_ngcontent-%COMP%]{color:#000}.image-avatar[_ngcontent-%COMP%]{width:3rem}.uploaded-image-avatar[_ngcontent-%COMP%]{width:5rem}.multi-image-scroll[_ngcontent-%COMP%]{height:270px;overflow-y:scroll}.multi-image-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.multi-image-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:transparent;border-radius:10px}.multi-image-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#8080804a;border-radius:10px}.custom-modal-dropzone[_ngcontent-%COMP%]{height:150px!important;border:2px dashed var(--tb-border-color);background:var(--tb-secondary-bg)!important;border-radius:6px!important;text-align:center;box-sizing:border-box;padding:20px;display:block;width:100%;height:auto}.custom-modalfile-input[_ngcontent-%COMP%]{width:100%;height:100%!important;cursor:pointer;display:flex;justify-content:center;align-items:center}.custom-modalfile-text[_ngcontent-%COMP%]{font-size:1rem;color:#666}.edit-thumbnail-img-fluid[_ngcontent-%COMP%]{max-width:100%}.custom-file-text2[_ngcontent-%COMP%]{font-size:1rem;color:#b3b3b3}.custom-file-text2-mob[_ngcontent-%COMP%]{font-size:.8rem;color:#b3b3b3}.custom-file-text-mob[_ngcontent-%COMP%]{font-size:1rem;color:#666}']})}return o})();function Ct(o,n){if(1&o&&t.OEk(0),2&o){const e=t.GaO().$implicit;t.oRS(" ",e.title," ")}}function ft(o,n){if(1&o&&t.yuY(0,Ct,1,1),2&o){const e=n.$implicit,a=t.GaO().$implicit;t.C0Y(0,a.category_id==e.id?0:-1)}}const bt=(o,n)=>({"bg-info-subtle text-info":o,"bg-danger-subtle text-danger":n});function yt(o,n){if(1&o){const e=t.KQA();t.I0R(0,"tr")(1,"td",36),t.OEk(2),t.C$Y(),t.I0R(3,"td",37),t.OEk(4),t.C$Y(),t.I0R(5,"td"),t.c53(6,ft,1,1,null,null,t.wJt),t.C$Y(),t.I0R(8,"td",38)(9,"div",39)(10,"input",40),t.qCj("change",function(i){const s=t.usT(e).$implicit,d=t.GaO();return t.CGJ(d.productsetStatus(s.id,i))}),t.C$Y(),t.I0R(11,"label",41)(12,"span",42),t.OEk(13),t.C$Y()()()(),t.I0R(14,"td",43)(15,"ul",44)(16,"li")(17,"a",45),t.wR5(18,"i",46),t.C$Y()(),t.I0R(19,"li")(20,"a",47),t.qCj("click",function(){const r=t.usT(e).$implicit,s=t.GaO();return t.CGJ(s.delete(r.id))}),t.wR5(21,"i",48),t.C$Y()()()()()}if(2&o){const e=n.$implicit,a=n.$index,i=t.GaO();t.yG2(2),t.oRS(" ",a+1," "),t.yG2(2),t.oRS(" ",e.title," "),t.yG2(2),t.oho(i.categoryData),t.yG2(4),t.E7m("checked","active"===e.status)("id","customSwitchsizemdteam"+a),t.yG2(),t.E7m("for","customSwitchsizemdteam"+a),t.yG2(),t.E7m("ngClass",t.IBC(8,bt,"active"===e.status,"inactive"===e.status)),t.yG2(),t.cNF(e.status),t.yG2(4),t.CI5("routerLink","/products/edit-product/",e.id,"")}}let _t=(()=>{class o{constructor(e,a,i){this.formBuilder=e,this.api=a,this.toastService=i,this.titleChange=new t._w7,this.productData=[],this.productDataList=[],this.editId=null,this.addSaveButtonActive=!0,this.spinnerStatus=!1,this.term="",this.currentPage=1,this.totalItems=0,this.itemsPerPage=5,this.categoryData=[]}ngOnInit(){this.breadCrumbItems=[{label:"Product",active:!0},{label:"Product List ",active:!0}],this.getproductData(),this.getCategoryData()}toggleSpinner(e){this.spinnerStatus=e,this.addSaveButtonActive=!e}getCategoryData(){this.api.getwithoutid("product-category?columns=id,title").subscribe(e=>{e&&e.status?this.categoryData=e.data||[]:this.handleError("Unexpected response format")},e=>{this.handleError(e.message||"An error occurred while fetching data")})}getproductData(){this.api.getwithoutid("product").subscribe(e=>{e&&e.status?(this.productData=e.data||[],this.productDataList=e.data||[],this.updatePagination(),this.updateDisplayedItems()):this.handleError("Unexpected response format")},e=>{this.handleError(e.message||"An error occurred while fetching data")})}productsetStatus(e,a){const r=a.target.checked?"active":"inactive",s=new FormData;s.append("status",r),this.toggleSpinner(!0),this.api.put("product",e,s).subscribe(d=>this.handleproductResponse(d,null),d=>this.handleError(d))}delete(e){e&&p().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(a=>{a.isConfirmed&&this.api.deleteWithId("product",e).subscribe(i=>this.handleproductResponse(i,"delete"),i=>this.handleError(i))})}handleproductResponse(e,a){this.toggleSpinner(!1),!0===e.status?(this.getproductData(),this.toastService.success("delete"==a?"Data deleted Successfully!!":"Data Saved Successfully!!")):this.toastService.error(e.message)}handleError(e){this.toggleSpinner(!1)}filterdata(){this.productData=this.term?this.productDataList.filter(e=>{const a=this.term.toLowerCase();return e.title.toLowerCase().includes(a)||e.status.toLowerCase().includes(a)}):this.productDataList.slice(0,5),this.updateNoResultDisplay()}updateNoResultDisplay(){const e=document.querySelector(".noresult"),a=document.getElementById("pagination-element");this.term&&0===this.productData.length?(e.style.display="block",a.classList.add("d-none")):(e.style.display="none",a.classList.remove("d-none"))}pageChanged(e){this.currentPage=e.page,this.updateDisplayedItems()}updatePagination(){this.totalItems=this.productDataList.length}updateDisplayedItems(){const e=(this.currentPage-1)*this.itemsPerPage;this.endItem=this.currentPage*this.itemsPerPage,this.productData=this.productDataList.slice(e,this.endItem)}static#t=this.\u0275fac=function(a){return new(a||o)(t.GI1(l.im),t.GI1(C.W),t.GI1(f.SA))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-product-list"]],outputs:{titleChange:"titleChange"},decls:60,vars:6,consts:[["title","Products",3,"breadcrumbItems"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"col-lg-12"],[1,"card-body","ps-0"],[1,"row","align-items-center","g-2"],[1,"col-6","mt-0"],[1,"card-header","ps-0","pt-0"],[1,"d-flex","justify-content-between","align-items-center"],[1,"col-lg-5","d-flex","justify-content-end"],[1,"search-box"],["type","text","placeholder","Search",1,"form-control","search",3,"ngModel","ngModelChange","keyup"],[1,"ri-search-line","search-icon"],[1,"col-lg-1"],[1,"hstack","flex-wrap","gap-2"],["routerLink","/products/add-product",1,"btn","btn-secondary"],[1,"bi","bi-plus-circle","align-baseline","me-1"],[1,"table-responsive","table-card"],[1,"table","table-bordered","table-centered","align-middle","table-custom-effect","table-nowrap","mb-0"],[1,"text-muted","text-center"],["scope","col",1,"cursor-pointer"],["scope","col"],[1,"list","form-check-all","text-center"],[1,"noresult",2,"display","none"],[1,"text-center","py-4"],[1,"ph-magnifying-glass","fs-1","text-primary"],[1,"mt-2"],[1,"text-muted","mb-0"],["id","pagination-element",1,"row","align-items-center","mt-4","pt-2"],[1,"col-sm"],[1,"text-muted","text-center","text-sm-start"],[1,"fw-semibold"],[1,"col-sm-auto","mt-3","mt-sm-0"],[1,"pagination-wrap","hstack","gap-2","justify-content-center",3,"totalItems","itemsPerPage","pageChanged"],[1,"id"],[1,"instructor"],[1,"status"],[1,"form-switch","form-switch-md","mb-3"],["type","checkbox",1,"form-check-input",3,"checked","id","change"],[1,"form-check-label",3,"for"],[1,"badge","text-capitalize",3,"ngClass"],[1,"px-0"],[1,"d-flex","justify-content-center","gap-2","list-unstyled","mb-0"],[1,"btn","btn-subtle-secondary","btn-icon","btn-sm","edit-item-btn",3,"routerLink"],[1,"ph-pencil","fs-5"],[1,"btn","btn-subtle-danger","btn-icon","btn-sm","remove-item-btn",3,"click"],[1,"ph-trash","fs-5"]],template:function(a,i){1&a&&(t.wR5(0,"app-breadcrumbs",0),t.I0R(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",1)(6,"div",5)(7,"div",3)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),t.wR5(12,"div",10),t.C$Y()(),t.I0R(13,"div",11)(14,"div",12)(15,"input",13),t.iHE("ngModelChange",function(s){return t.kNx(i.term,s)||(i.term=s),s}),t.qCj("keyup",function(){return i.filterdata()}),t.C$Y(),t.wR5(16,"i",14),t.C$Y()(),t.I0R(17,"div",15)(18,"div",16)(19,"div")(20,"a",17),t.wR5(21,"i",18),t.OEk(22,"Add"),t.C$Y()()()()()(),t.I0R(23,"div",4)(24,"div",19)(25,"table",20)(26,"thead",21)(27,"tr")(28,"th",22),t.OEk(29,"S No."),t.C$Y(),t.I0R(30,"th",22),t.OEk(31,"Product Name"),t.C$Y(),t.I0R(32,"th",22),t.OEk(33,"Category"),t.C$Y(),t.I0R(34,"th",22),t.OEk(35,"Status"),t.C$Y(),t.I0R(36,"th",23),t.OEk(37,"Action"),t.C$Y()()(),t.I0R(38,"tbody",24),t.c53(39,yt,22,11,"tr",null,t.wJt),t.C$Y()(),t.I0R(41,"div",25)(42,"div",26),t.wR5(43,"i",27),t.I0R(44,"h5",28),t.OEk(45,"Sorry! No Result Found"),t.C$Y(),t.I0R(46,"p",29),t.OEk(47," We did not find any Details for you search. "),t.C$Y()()()(),t.I0R(48,"div",30)(49,"div",31)(50,"div",32),t.OEk(51," Showing "),t.I0R(52,"span",33),t.OEk(53),t.C$Y(),t.OEk(54," of "),t.I0R(55,"span",33),t.OEk(56),t.C$Y(),t.OEk(57," Results "),t.C$Y()(),t.I0R(58,"div",34)(59,"pagination",35),t.qCj("pageChanged",function(s){return i.pageChanged(s)}),t.C$Y()()()()()()()()()()()),2&a&&(t.E7m("breadcrumbItems",i.breadCrumbItems),t.yG2(15),t.OKB("ngModel",i.term),t.yG2(24),t.oho(i.productData),t.yG2(14),t.cNF(null==i.productData?null:i.productData.length),t.yG2(3),t.cNF(null==i.productDataList?null:i.productDataList.length),t.yG2(3),t.E7m("totalItems",null==i.productDataList?null:i.productDataList.length)("itemsPerPage",5))},dependencies:[m.QF,g.ER,_.O,l.ot,l.ue,l._G,b.im]})}return o})();var u=c(9048),v=c(4476),I=c(2728),R=c(4884);function vt(o,n){if(1&o&&(t.SAx(0),t.wR5(1,"img",77),t.k70()),2&o){const e=t.GaO().$implicit;t.yG2(),t.E7m("src",e.pdf,t.K6U)}}function It(o,n){if(1&o&&(t.SAx(0),t.wR5(1,"iframe",78),t.k70()),2&o){const e=t.GaO().$implicit,a=t.GaO();t.yG2(),t.E7m("src",a.sanitizeAndStyleUrl(e.pdf),t.CaN)}}const Rt=(o,n)=>({"bg-info-subtle text-info":o,"bg-danger-subtle text-danger":n});function Et(o,n){if(1&o){const e=t.KQA();t.I0R(0,"tr")(1,"td",62),t.OEk(2),t.C$Y(),t.I0R(3,"td",63)(4,"div",64),t.yuY(5,vt,2,1,"ng-container",65)(6,It,2,1,"ng-container",65),t.C$Y()(),t.I0R(7,"td",66)(8,"div",67)(9,"input",68),t.qCj("change",function(i){const s=t.usT(e).$implicit,d=t.GaO();return t.CGJ(d.catalogsetStatus(s.id,i))}),t.C$Y(),t.I0R(10,"label",69)(11,"span",70),t.OEk(12),t.C$Y()()()(),t.I0R(13,"td",71)(14,"ul",72)(15,"li")(16,"a",73),t.qCj("click",function(){const r=t.usT(e).$implicit,s=t.GaO();return t.Gew(52).show(),t.CGJ(s.editcatalog(r))}),t.wR5(17,"i",74),t.C$Y()(),t.I0R(18,"li")(19,"a",75),t.qCj("click",function(){const r=t.usT(e).$implicit,s=t.GaO();return t.CGJ(s.delete(r.id))}),t.wR5(20,"i",76),t.C$Y()()()()()}if(2&o){const e=n.$implicit,a=n.$index,i=t.GaO();t.yG2(2),t.oRS(" ",a+1," "),t.yG2(3),t.E7m("ngIf",!i.isPdf(e.pdf)),t.yG2(),t.E7m("ngIf",i.isPdf(e.pdf)),t.yG2(3),t.E7m("checked","active"===e.status)("id","customSwitchsizemdteam"+a),t.yG2(),t.E7m("for","customSwitchsizemdteam"+a),t.yG2(),t.E7m("ngClass",t.IBC(8,Rt,"active"===e.status,"inactive"===e.status)),t.yG2(),t.cNF(e.status)}}function kt(o,n){1&o&&t.OEk(0," Add ")}function Ot(o,n){1&o&&t.OEk(0," Edit ")}function Yt(o,n){if(1&o&&t.wR5(0,"img",91),2&o){const e=t.GaO(2);t.E7m("src",e.catalogselectedImagePreview,t.K6U)}}function wt(o,n){if(1&o&&(t.I0R(0,"h5",92),t.OEk(1),t.C$Y()),2&o){const e=t.GaO(2);t.yG2(),t.oRS(" ",e.catalogselectedImage.name," ")}}function St(o,n){if(1&o&&(t.I0R(0,"p",93),t.OEk(1),t.C$Y()),2&o){const e=t.GaO(2);t.yG2(),t.oRS(" ",e.catalogselectedImage.size," ")}}function Gt(o,n){if(1&o){const e=t.KQA();t.I0R(0,"ul",79)(1,"li",80)(2,"div",81)(3,"div",82)(4,"div",83)(5,"div",84),t.yuY(6,Yt,1,1,"img",85),t.C$Y()(),t.I0R(7,"div",86)(8,"div",87),t.yuY(9,wt,2,1,"h5",88)(10,St,2,1,"p",89),t.C$Y()(),t.I0R(11,"div",83)(12,"button",90),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.catalogremoveImage())}),t.OEk(13," Delete "),t.C$Y()()()()()()}if(2&o){const e=t.GaO();t.yG2(6),t.C0Y(6,e.catalogselectedImagePreview?6:-1),t.yG2(3),t.C0Y(9,e.catalogselectedImage.name?9:-1),t.yG2(),t.C0Y(10,e.catalogselectedImage.size?10:-1)}}function $t(o,n){if(1&o&&(t.SAx(0),t.wR5(1,"img",95),t.k70()),2&o){const e=t.GaO(2);t.yG2(),t.E7m("src",e.cataloguploadedImage,t.K6U)}}function Pt(o,n){if(1&o&&(t.SAx(0),t.wR5(1,"iframe",96),t.k70()),2&o){const e=t.GaO(2);t.yG2(),t.E7m("src",e.sanitizeAndStyleUrl(e.cataloguploadedImage),t.CaN)}}function xt(o,n){if(1&o&&(t.I0R(0,"div",94)(1,"div")(2,"label",42),t.OEk(3,"Uploaded Pdf"),t.C$Y(),t.I0R(4,"div"),t.yuY(5,$t,2,1,"ng-container",65)(6,Pt,2,1,"ng-container",65),t.C$Y()()()),2&o){const e=t.GaO();t.yG2(5),t.E7m("ngIf",!e.isPdf(e.cataloguploadedImage)),t.yG2(),t.E7m("ngIf",e.isPdf(e.cataloguploadedImage))}}function At(o,n){1&o&&(t.I0R(0,"div",97),t.OEk(1,"Pdf is required."),t.C$Y())}function Tt(o,n){1&o&&(t.I0R(0,"div",97),t.OEk(1,"Status is required."),t.C$Y())}function Dt(o,n){1&o&&(t.I0R(0,"button",98),t.wR5(1,"i",99),t.OEk(2," Save "),t.C$Y())}function qt(o,n){1&o&&(t.I0R(0,"button",100),t.wR5(1,"span",101),t.OEk(2," Please wait "),t.C$Y())}let Mt=(()=>{class o{constructor(e,a,i,r,s){this.formBuilder=e,this.api=a,this.toastService=i,this.route=r,this.sanitizer=s,this.titleChange=new t._w7,this.catalogData=[],this.catalogDataList=[],this.editId=null,this.urlId=null,this.catalogHeadingId=null,this.catalogHeading=!1,this.addSaveButtonActive=!0,this.spinnerStatus=!1,this.catalogselectedImage=null,this.catalogselectedImagePreview=null,this.cataloguploadedImage=null,this.term="",this.currentPage=1,this.totalItems=0,this.itemsPerPage=5}ngOnInit(){this.route.params.subscribe(e=>{this.urlId=e.id}),this.getcatalogData(),this.initializeFormcatalog()}initializeFormcatalog(){this.catalog=this.formBuilder.group({pdf:["",this.catalogimageValidator()],status:["",[l.AQ.required]]})}catalogimageValidator(){return e=>null==this.editId?l.AQ.required(e):null}get secOne(){return this.catalog.controls}toggleSpinner(e){this.spinnerStatus=e,this.addSaveButtonActive=!e}getcatalogData(){this.api.get("product-catalog",this.urlId).subscribe(e=>{e&&e.status?(this.catalogData=e.data||[],this.catalogDataList=e.data||[],this.updatePagination(),this.updateDisplayedItems()):this.handleError("Unexpected response format")},e=>{this.handleError(e.message||"An error occurred while fetching data")})}submitcatalog(e){if(this.urlId)if(this.catalog.valid){this.toggleSpinner(!0);const a=this.createcatalogFormData();null!=this.editId?this.updatecatalog(e,a,this.editId):this.addcatalog(e,a)}else this.catalog.markAllAsTouched();else this.toastService.error("Please fill in all General information required fields.")}createcatalogFormData(){const e=new FormData;this.catalogselectedImage&&e.append("pdf",this.catalogselectedImage),e.append("product_id",this.urlId),e.append("status",this.secOne.status.value);const a=localStorage.getItem("currentUser"),r=(a?JSON.parse(a):{}).username||"Admin";return e.append(null!=this.editId?"updated_by":"created_by",r),e}updatecatalog(e,a,i){this.api.put("product-catalog",i,a).subscribe(r=>this.handlecatalogResponse(r,e),r=>this.handleError(r))}addcatalog(e,a){this.api.post("product-catalog",a).subscribe(i=>this.handlecatalogResponse(i,e),i=>this.handleError(i))}catalogsetStatus(e,a){const r=a.target.checked?"active":"inactive",s=new FormData;s.append("status",r),this.toggleSpinner(!0),this.api.put("product-catalog",e,s).subscribe(d=>this.handlecatalogResponse(d,null),d=>this.handleError(d))}delete(e){e&&p().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(a=>{a.isConfirmed&&this.api.deleteWithId("product-catalog",e).subscribe(i=>this.handlecatalogResponse(i,"delete"),i=>this.handleError(i))})}handlecatalogResponse(e,a){this.toggleSpinner(!1),!0===e.status?(this.getcatalogData(),"delete"==a?this.toastService.success("Data deleted Successfully!!"):(this.toastService.success("Data Saved Successfully!!"),this.resetForm(),a.hide())):this.toastService.error(e.message)}resetForm(){this.catalogselectedImage=null,this.catalogselectedImagePreview=null,this.cataloguploadedImage=null,this.editId=null,this.catalog.reset()}handleError(e){this.toggleSpinner(!1)}catalogimageSelect(e){const a=e.target.files[0];a&&(this.catalogselectedImage=a,this.catalogselectedImagePreview=URL.createObjectURL(a))}catalogremoveImage(){this.catalogselectedImage=null,this.catalogselectedImagePreview=null}editcatalog(e){this.initializeFormcatalog(),this.editId=e.id,this.catalog.patchValue({status:e.status}),this.cataloguploadedImage=e.pdf}filterdata(){this.catalogData=this.term?this.catalogDataList.filter(e=>{const a=this.term.toLowerCase();return e.name.toLowerCase().includes(a)||e.status.toLowerCase().includes(a)}):this.catalogDataList.slice(0,5),this.updateNoResultDisplay()}updateNoResultDisplay(){const e=document.querySelector(".noresult"),a=document.getElementById("pagination-element");this.term&&0===this.catalogData.length?(e.style.display="block",a.classList.add("d-none")):(e.style.display="none",a.classList.remove("d-none"))}pageChanged(e){this.currentPage=e.page,this.updateDisplayedItems()}updatePagination(){this.totalItems=this.catalogDataList.length}updateDisplayedItems(){const e=(this.currentPage-1)*this.itemsPerPage;this.endItem=this.currentPage*this.itemsPerPage,this.catalogData=this.catalogDataList.slice(e,this.endItem)}isPdf(e){const a=e.substr(e.lastIndexOf(".")+1);return/(pdf)$/gi.test(a)}sanitizeAndStyleUrl(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}static#t=this.\u0275fac=function(a){return new(a||o)(t.GI1(l.im),t.GI1(C.W),t.GI1(f.SA),t.GI1(g.gV),t.GI1(v.mI))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-add-catalog"]],outputs:{titleChange:"titleChange"},decls:98,vars:12,consts:[[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body","ps-0"],[1,"row","align-items-center","g-2"],[1,"col-6","mt-0"],[1,"card-header","ps-0","pt-0"],[1,"d-flex","justify-content-between","align-items-center"],[1,"col-lg-5","d-flex","justify-content-md-end"],[1,"col-lg-1"],[1,"hstack","flex-wrap","gap-2"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-plus-circle","align-baseline","me-1"],[1,"card-body"],[1,"table-responsive","table-card"],[1,"table","table-bordered","table-centered","align-middle","table-custom-effect","table-nowrap","mb-0"],[1,"text-muted","text-center"],["scope","col",1,"cursor-pointer"],["scope","col"],[1,"list","form-check-all","text-center"],[1,"noresult",2,"display","none"],[1,"text-center","py-4"],[1,"ph-magnifying-glass","fs-1","text-primary"],[1,"mt-2"],[1,"text-muted","mb-0"],["id","pagination-element",1,"row","align-items-center","mt-4","pt-2"],[1,"col-sm"],[1,"text-muted","text-center","text-sm-start"],[1,"fw-semibold"],[1,"col-sm-auto","mt-3","mt-sm-0"],[1,"pagination-wrap","hstack","gap-2","justify-content-center",3,"totalItems","itemsPerPage","pageChanged"],["bsModal","","id","team",1,"modal","fade"],["team","bs-modal"],[1,"modal-dialog"],[1,"modal-content","border-0"],[1,"modal-header","bg-success","p-3"],["id","editSection2ModalLabel",1,"modal-title","text-white"],["type","button",1,"btn-close","btn-close-white",3,"click"],[1,"tablelist-form",3,"formGroup","submit"],[1,"modal-body"],["id","alert-error-msg",1,"d-none","alert","alert-danger","py-2"],[1,"mb-3"],[1,"form-label"],[1,"text-danger"],[1,"custom-modal-dropzone"],["type","file","id","catalogimageupload","accept","application/pdf","formControlName","pdf","hidden","",3,"change"],["catalogimageupload",""],["for","catalogimageupload",1,"custom-modalfile-input"],[1,"custom-modalfile-text"],["class","list-unstyled mb-0","id","dropzone-preview"],["class","col-lg-6 mt-3 mt-lg-0"],["class","invalid-text"],["for","addstatus",1,"form-label"],["formControlName","status","data-choices","","id","addstatus",1,"form-control",3,"ngClass"],["value",""],["value","active"],["value","inactive"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button",1,"btn","btn-ghost-success",3,"click"],[1,"bi","bi-x-lg","align-baseline","me-1"],["type","submit","class","btn btn-primary","id","add-btn"],[1,"id"],[1,"category"],[1,"flex-shrink-0","d-flex","justify-content-center"],[4,"ngIf"],[1,"status"],[1,"form-switch","form-switch-md","mb-3"],["type","checkbox",1,"form-check-input",3,"checked","id","change"],[1,"form-check-label",3,"for"],[1,"badge","text-capitalize",3,"ngClass"],[1,"px-0"],[1,"d-flex","justify-content-center","gap-2","list-unstyled","mb-0"],[1,"btn","btn-subtle-secondary","btn-icon","btn-sm","edit-item-btn",3,"click"],[1,"ph-pencil","fs-5"],[1,"btn","btn-subtle-danger","btn-icon","btn-sm","remove-item-btn",3,"click"],[1,"ph-trash","fs-5"],["width","100%","alt","Uploaded image",1,"thumbnail-img-fluid","rounded","d-block","w-50",3,"src"],["frameborder","0",1,"img-fluid","rounded","d-block","w-50",3,"src"],["id","dropzone-preview",1,"list-unstyled","mb-0"],["id","dropzone-preview-list",1,"mt-2"],[1,"border","rounded"],[1,"d-flex","flex-wrap","gap-2","p-2"],[1,"flex-shrink-0"],[1,"image-avatar","bg-light","rounded","p-2"],["class","img-fluid rounded d-block","alt","Dropzone-Image",3,"src"],[1,"flex-grow-1","me-1"],[1,"pt-1"],["class","fs-md mb-1"],["class","fs-sm text-muted mb-0"],[1,"btn","btn-sm","btn-danger",3,"click"],["alt","Dropzone-Image",1,"img-fluid","rounded","d-block",3,"src"],[1,"fs-md","mb-1"],[1,"fs-sm","text-muted","mb-0"],[1,"col-lg-6","mt-3","mt-lg-0"],["width","100%","alt","Uploaded image",1,"thumbnail-img-fluid","rounded","d-block",3,"src"],["frameborder","0",1,"img-fluid","rounded","d-block",3,"src"],[1,"invalid-text"],["type","submit","id","add-btn",1,"btn","btn-primary"],[1,"bi","bi-file-earmark-text","me-1","align-baseline"],["type","button","disabled","",1,"btn","btn-secondary"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(a,i){if(1&a){const r=t.KQA();t.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),t.wR5(8,"div",7),t.C$Y()(),t.wR5(9,"div",8),t.I0R(10,"div",9)(11,"div",10)(12,"div")(13,"a",11),t.qCj("click",function(){return t.usT(r),t.Gew(52).show(),t.CGJ(i.resetForm())}),t.wR5(14,"i",12),t.OEk(15,"Add"),t.C$Y()()()()()(),t.I0R(16,"div",13)(17,"div",14)(18,"table",15)(19,"thead",16)(20,"tr")(21,"th",17),t.OEk(22,"S No."),t.C$Y(),t.I0R(23,"th",17),t.OEk(24,"Catalog Pdf"),t.C$Y(),t.I0R(25,"th",17),t.OEk(26,"Status"),t.C$Y(),t.I0R(27,"th",18),t.OEk(28,"Action"),t.C$Y()()(),t.I0R(29,"tbody",19),t.c53(30,Et,21,11,"tr",null,t.wJt),t.C$Y()(),t.I0R(32,"div",20)(33,"div",21),t.wR5(34,"i",22),t.I0R(35,"h5",23),t.OEk(36,"Sorry! No Result Found"),t.C$Y(),t.I0R(37,"p",24),t.OEk(38," We did not find any Details for you search. "),t.C$Y()()()(),t.I0R(39,"div",25)(40,"div",26)(41,"div",27),t.OEk(42," Showing "),t.I0R(43,"span",28),t.OEk(44),t.C$Y(),t.OEk(45," of "),t.I0R(46,"span",28),t.OEk(47),t.C$Y(),t.OEk(48," Results "),t.C$Y()(),t.I0R(49,"div",29)(50,"pagination",30),t.qCj("pageChanged",function(d){return i.pageChanged(d)}),t.C$Y()()()()()()()(),t.I0R(51,"div",31,32)(53,"div",33)(54,"div",34)(55,"div",35)(56,"h5",36),t.yuY(57,kt,1,0)(58,Ot,1,0),t.C$Y(),t.I0R(59,"button",37),t.qCj("click",function(){t.usT(r);const d=t.Gew(52);return t.CGJ(d.hide())}),t.C$Y()(),t.I0R(60,"form",38),t.qCj("submit",function(){t.usT(r);const d=t.Gew(52);return t.CGJ(i.submitcatalog(d))}),t.I0R(61,"div",39),t.wR5(62,"div",40),t.I0R(63,"div",41)(64,"label",42),t.OEk(65,"Pdf"),t.I0R(66,"span",43),t.OEk(67,"*"),t.C$Y()(),t.I0R(68,"div",44)(69,"input",45,46),t.qCj("change",function(d){return i.catalogimageSelect(d)}),t.C$Y(),t.I0R(71,"label",47)(72,"span",48),t.OEk(73,"Choose a file to upload. "),t.wR5(74,"br"),t.C$Y()()(),t.yuY(75,Gt,14,3,"ul",49)(76,xt,7,2,"div",50)(77,At,2,0,"div",51),t.C$Y(),t.I0R(78,"div",41)(79,"label",52),t.OEk(80,"Status "),t.I0R(81,"span",43),t.OEk(82,"*"),t.C$Y()(),t.I0R(83,"select",53)(84,"option",54),t.OEk(85,"Select Status"),t.C$Y(),t.I0R(86,"option",55),t.OEk(87,"Active"),t.C$Y(),t.I0R(88,"option",56),t.OEk(89,"Inactive"),t.C$Y()(),t.yuY(90,Tt,2,0,"div",51),t.C$Y()(),t.I0R(91,"div",57)(92,"div",58)(93,"button",59),t.qCj("click",function(){t.usT(r);const d=t.Gew(52);return t.CGJ(d.hide())}),t.wR5(94,"i",60),t.OEk(95," Close "),t.C$Y(),t.yuY(96,Dt,3,0,"button",61)(97,qt,3,0),t.C$Y()()()()()()}2&a&&(t.yG2(30),t.oho(i.catalogData),t.yG2(14),t.cNF(null==i.catalogData?null:i.catalogData.length),t.yG2(3),t.cNF(null==i.catalogDataList?null:i.catalogDataList.length),t.yG2(3),t.E7m("totalItems",null==i.catalogDataList?null:i.catalogDataList.length)("itemsPerPage",5),t.yG2(7),t.C0Y(57,null==i.editId?57:58),t.yG2(3),t.E7m("formGroup",i.catalog),t.yG2(15),t.C0Y(75,i.catalogselectedImage?75:-1),t.yG2(),t.C0Y(76,i.cataloguploadedImage?76:-1),t.yG2(),t.C0Y(77,i.secOne.pdf&&i.secOne.pdf.hasError("required")&&i.secOne.pdf.touched?77:-1),t.yG2(6),t.E7m("ngClass",i.secOne.status&&i.secOne.status.hasError("required")&&i.secOne.status.touched?"is-invalid":""),t.yG2(7),t.C0Y(90,i.secOne.status&&i.secOne.status.hasError("required")&&i.secOne.status.touched?90:-1),t.yG2(6),t.C0Y(96,i.addSaveButtonActive?96:97))},dependencies:[m.QF,m.u_,l.sz,l.wd,l.GO,l.ot,l.GC,l.ue,l.u,l.uW,l.Wo,b.im,y.uK],styles:['@charset "UTF-8";.dz-preview.dz-file-preview.dz-processing.dz-success.dz-comp\\200c\\200blete[_ngcontent-%COMP%]{display:block!important}.custom-file-text2[_ngcontent-%COMP%]{font-size:.7rem;color:#b3b3b3}.findus-heading[_ngcontent-%COMP%]{color:#000}.custom-dropzone[_ngcontent-%COMP%]{min-height:230px!important;border:2px dashed var(--tb-border-color);background:var(--tb-secondary-bg)!important;border-radius:6px!important;text-align:center;box-sizing:border-box;padding:20px;display:block;width:100%;height:auto}.uploaded-img[_ngcontent-%COMP%]{min-height:230px!important;border-radius:6px!important;text-align:center;box-sizing:border-box;display:block;width:100%;height:auto}.thumbnail-img-fluid[_ngcontent-%COMP%]{max-width:100%;height:274px}.custom-file-input[_ngcontent-%COMP%]{width:100%;min-height:230px!important;cursor:pointer;display:flex;justify-content:center;align-items:center}.custom-file-text[_ngcontent-%COMP%]{font-size:1.5rem;color:#666}.selected-file[_ngcontent-%COMP%]{width:100%;min-height:230px!important;display:flex;justify-content:center;align-items:center}.invalid-text[_ngcontent-%COMP%]{color:#ff6c6c;margin-top:4px}.file-invalid[_ngcontent-%COMP%]{border:2px dashed #ff6c6c}.videoo-avatar-sm[_ngcontent-%COMP%]{width:3rem}.founder-heading[_ngcontent-%COMP%]{color:#000}.image-avatar[_ngcontent-%COMP%]{width:3rem}.uploaded-image-avatar[_ngcontent-%COMP%]{width:5rem}.multi-image-scroll[_ngcontent-%COMP%]{height:270px;overflow-y:scroll}.multi-image-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.multi-image-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:transparent;border-radius:10px}.multi-image-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#8080804a;border-radius:10px}.custom-modal-dropzone[_ngcontent-%COMP%]{height:150px!important;border:2px dashed var(--tb-border-color);background:var(--tb-secondary-bg)!important;border-radius:6px!important;text-align:center;box-sizing:border-box;padding:20px;display:block;width:100%;height:auto}.custom-modalfile-input[_ngcontent-%COMP%]{width:100%;height:100%!important;cursor:pointer;display:flex;justify-content:center;align-items:center}.custom-modalfile-text[_ngcontent-%COMP%]{font-size:1rem;color:#666}.edit-thumbnail-img-fluid[_ngcontent-%COMP%]{max-width:100%}.custom-file-text2[_ngcontent-%COMP%]{font-size:1rem;color:#b3b3b3}.custom-file-text2-mob[_ngcontent-%COMP%]{font-size:.8rem;color:#b3b3b3}.custom-file-text-mob[_ngcontent-%COMP%]{font-size:1rem;color:#666}']})}return o})();function Ft(o,n){1&o&&t.OEk(0," Product Image ")}function zt(o,n){1&o&&t.OEk(0," Banner ")}const Lt=(o,n)=>({"bg-info-subtle text-info":o,"bg-danger-subtle text-danger":n});function jt(o,n){if(1&o){const e=t.KQA();t.I0R(0,"tr")(1,"td",69),t.OEk(2),t.C$Y(),t.I0R(3,"td",70),t.yuY(4,Ft,1,0)(5,zt,1,0),t.C$Y(),t.I0R(6,"td",71)(7,"div",72)(8,"div",73),t.wR5(9,"img",74),t.C$Y()()(),t.I0R(10,"td",75)(11,"div",76)(12,"input",77),t.qCj("change",function(i){const s=t.usT(e).$implicit,d=t.GaO();return t.CGJ(d.productImagesetStatus(s.id,i))}),t.C$Y(),t.I0R(13,"label",78)(14,"span",79),t.OEk(15),t.C$Y()()()(),t.I0R(16,"td",80)(17,"ul",81)(18,"li")(19,"a",82),t.qCj("click",function(){const r=t.usT(e).$implicit,s=t.GaO();return t.Gew(63).show(),t.CGJ(s.editproductImage(r))}),t.wR5(20,"i",83),t.C$Y()(),t.I0R(21,"li")(22,"a",84),t.qCj("click",function(){const r=t.usT(e).$implicit,s=t.GaO();return t.CGJ(s.delete(r.id))}),t.wR5(23,"i",85),t.C$Y()()()()()}if(2&o){const e=n.$implicit,a=n.$index;t.yG2(2),t.oRS(" ",a+1," "),t.yG2(2),t.C0Y(4,"product_img"==e.type?4:5),t.yG2(5),t._6D("src",e.image,t.K6U),t.yG2(3),t.E7m("checked","active"===e.status)("id","customSwitchsizemdteam"+a),t.yG2(),t.E7m("for","customSwitchsizemdteam"+a),t.yG2(),t.E7m("ngClass",t.IBC(8,Lt,"active"===e.status,"inactive"===e.status)),t.yG2(),t.cNF(e.status)}}function Nt(o,n){1&o&&t.OEk(0," Add ")}function Ut(o,n){1&o&&t.OEk(0," Edit ")}function Bt(o,n){1&o&&(t.I0R(0,"div",86),t.OEk(1,"Status is required."),t.C$Y())}function Qt(o,n){if(1&o&&t.wR5(0,"img",99),2&o){const e=t.GaO(2);t.E7m("src",e.productselectedImagePreview,t.K6U)}}function Jt(o,n){if(1&o&&(t.I0R(0,"h5",100),t.OEk(1),t.C$Y()),2&o){const e=t.GaO(2);t.yG2(),t.oRS(" ",e.productselectedImage.name," ")}}function Vt(o,n){if(1&o&&(t.I0R(0,"p",101),t.OEk(1),t.C$Y()),2&o){const e=t.GaO(2);t.yG2(),t.oRS(" ",e.productselectedImage.size," ")}}function Kt(o,n){if(1&o){const e=t.KQA();t.I0R(0,"ul",87)(1,"li",88)(2,"div",89)(3,"div",90)(4,"div",91)(5,"div",92),t.yuY(6,Qt,1,1,"img",93),t.C$Y()(),t.I0R(7,"div",94)(8,"div",95),t.yuY(9,Jt,2,1,"h5",96)(10,Vt,2,1,"p",97),t.C$Y()(),t.I0R(11,"div",91)(12,"button",98),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.productremoveImage())}),t.OEk(13," Delete "),t.C$Y()()()()()()}if(2&o){const e=t.GaO();t.yG2(6),t.C0Y(6,e.productselectedImagePreview?6:-1),t.yG2(3),t.C0Y(9,e.productselectedImage.name?9:-1),t.yG2(),t.C0Y(10,e.productselectedImage.size?10:-1)}}function Wt(o,n){if(1&o&&(t.I0R(0,"div",102)(1,"div")(2,"label",52),t.OEk(3,"Uploaded Image"),t.C$Y(),t.I0R(4,"div")(5,"div"),t.wR5(6,"img",103),t.C$Y()()()()),2&o){const e=t.GaO();t.yG2(6),t.E7m("src",e.productuploadedImage,t.K6U)}}function Ht(o,n){1&o&&(t.I0R(0,"div",86),t.OEk(1,"Pdf is required."),t.C$Y())}function Xt(o,n){1&o&&(t.I0R(0,"div",86),t.OEk(1,"Status is required."),t.C$Y())}function Zt(o,n){1&o&&(t.I0R(0,"button",104),t.wR5(1,"i",105),t.OEk(2," Save "),t.C$Y())}function te(o,n){1&o&&(t.I0R(0,"button",106),t.wR5(1,"span",107),t.OEk(2," Please wait "),t.C$Y())}let ee=(()=>{class o{constructor(e,a,i,r,s){this.formBuilder=e,this.api=a,this.toastService=i,this.route=r,this.sanitizer=s,this.titleChange=new t._w7,this.productImageData=[],this.productImageDataList=[],this.editId=null,this.urlId=null,this.productHeadingId=null,this.productHeading=!1,this.addSaveButtonActive=!0,this.spinnerStatus=!1,this.productselectedImage=null,this.productselectedImagePreview=null,this.productuploadedImage=null,this.term="",this.currentPage=1,this.totalItems=0,this.itemsPerPage=5}ngOnInit(){this.route.params.subscribe(e=>{this.urlId=e.id}),this.getproductImageData(),this.initializeFormproduct()}initializeFormproduct(){this.product=this.formBuilder.group({type:["",[l.AQ.required]],image:["",this.productimageValidator()],status:["",[l.AQ.required]]})}productimageValidator(){return e=>null==this.editId?l.AQ.required(e):null}get secOne(){return this.product.controls}toggleSpinner(e){this.spinnerStatus=e,this.addSaveButtonActive=!e}getproductImageData(){this.api.get("product-image",this.urlId).subscribe(e=>{e&&e.status?(this.productImageData=e.data||[],this.productImageDataList=e.data||[],this.updatePagination(),this.updateDisplayedItems()):this.toastService.error("Oops! Something went wrongsssssssss")},e=>{this.handleError(e.message||"An error occurred while fetching data")})}submitproduct(e){if(this.urlId)if(this.product.valid){this.toggleSpinner(!0);const a=this.createproductFormData();null!=this.editId?this.updateproduct(e,a,this.editId):this.addproduct(e,a)}else this.product.markAllAsTouched();else this.toastService.error("Please fill in all General information required fields.")}createproductFormData(){const e=new FormData;this.productselectedImage&&e.append("image",this.productselectedImage),e.append("type",this.secOne.type.value),e.append("product_id",this.urlId),e.append("status",this.secOne.status.value);const a=localStorage.getItem("currentUser"),r=(a?JSON.parse(a):{}).username||"Admin";return e.append(null!=this.editId?"updated_by":"created_by",r),e}updateproduct(e,a,i){this.api.put("product-image",i,a).subscribe(r=>this.handleproductResponse(r,e),r=>this.handleError(r))}addproduct(e,a){this.api.post("product-image",a).subscribe(i=>this.handleproductResponse(i,e),i=>this.handleError(i))}productImagesetStatus(e,a){const r=a.target.checked?"active":"inactive",s=new FormData;s.append("status",r),this.toggleSpinner(!0),this.api.put("product-image",e,s).subscribe(d=>this.handleproductResponse(d,null),d=>this.handleError(d))}delete(e){e&&p().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(a=>{a.isConfirmed&&this.api.deleteWithId("product-image",e).subscribe(i=>this.handleproductResponse(i,"delete"),i=>this.handleError(i))})}handleproductResponse(e,a){this.toggleSpinner(!1),!0===e.status?(this.getproductImageData(),"delete"==a?this.toastService.success("Data deleted Successfully!!"):(this.toastService.success("Data Saved Successfully!!"),this.resetForm(),a.hide())):this.toastService.error(e.message)}resetForm(){this.productselectedImage=null,this.productselectedImagePreview=null,this.productuploadedImage=null,this.editId=null,this.product.reset()}handleError(e){this.toggleSpinner(!1)}productimageSelect(e){const a=e.target.files[0];a&&(this.productselectedImage=a,this.productselectedImagePreview=URL.createObjectURL(a))}productremoveImage(){this.productselectedImage=null,this.productselectedImagePreview=null}editproductImage(e){this.initializeFormproduct(),this.editId=e.id,this.product.patchValue({status:e.status,type:e.type}),this.productuploadedImage=e.image}filterdata(){this.term?(console.log(this.term),this.productImageData=this.productImageDataList.filter(e=>{const a=this.term.toLowerCase();return e.type.toLowerCase().includes(a)||e.status.toLowerCase().includes(a)})):this.productImageData=this.productImageDataList.slice(0,5),this.updateNoResultDisplay()}updateNoResultDisplay(){const e=document.querySelector(".noresult"),a=document.getElementById("pagination-element");this.term&&0===this.productImageData.length?(e.style.display="block",a.classList.add("d-none")):(e.style.display="none",a.classList.remove("d-none"))}pageChanged(e){this.currentPage=e.page,this.updateDisplayedItems()}updatePagination(){this.totalItems=this.productImageDataList.length}updateDisplayedItems(){const e=(this.currentPage-1)*this.itemsPerPage;this.endItem=this.currentPage*this.itemsPerPage,this.productImageData=this.productImageDataList.slice(e,this.endItem)}static#t=this.\u0275fac=function(a){return new(a||o)(t.GI1(l.im),t.GI1(C.W),t.GI1(f.SA),t.GI1(g.gV),t.GI1(v.mI))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-add-product-image"]],outputs:{titleChange:"titleChange"},decls:122,vars:15,consts:[[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body","ps-0"],[1,"row","align-items-center","g-2"],[1,"col-6","mt-0"],[1,"card-header","ps-0","pt-0"],[1,"d-flex","justify-content-between","align-items-center"],[1,"col-lg-5","d-flex","justify-content-md-end"],[1,"search-box"],["data-choices","",1,"form-control","search",3,"ngModel","ngModelChange","change"],["value",""],["value","banner"],["value","product_img"],[1,"ri-search-line","search-icon"],[1,"col-lg-1"],[1,"hstack","flex-wrap","gap-2"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-plus-circle","align-baseline","me-1"],[1,"card-body"],[1,"table-responsive","table-card"],[1,"table","table-bordered","table-centered","align-middle","table-custom-effect","table-nowrap","mb-0"],[1,"text-muted","text-center"],["scope","col",1,"cursor-pointer"],["scope","col"],[1,"list","form-check-all","text-center"],[1,"noresult",2,"display","none"],[1,"text-center","py-4"],[1,"ph-magnifying-glass","fs-1","text-primary"],[1,"mt-2"],[1,"text-muted","mb-0"],["id","pagination-element",1,"row","align-items-center","mt-4","pt-2"],[1,"col-sm"],[1,"text-muted","text-center","text-sm-start"],[1,"fw-semibold"],[1,"col-sm-auto","mt-3","mt-sm-0"],[1,"pagination-wrap","hstack","gap-2","justify-content-center",3,"totalItems","itemsPerPage","pageChanged"],["bsModal","","id","team",1,"modal","fade"],["team","bs-modal"],[1,"modal-dialog"],[1,"modal-content","border-0"],[1,"modal-header","bg-success","p-3"],["id","editSection2ModalLabel",1,"modal-title","text-white"],["type","button",1,"btn-close","btn-close-white",3,"click"],[1,"tablelist-form",3,"formGroup","submit"],[1,"modal-body"],["id","alert-error-msg",1,"d-none","alert","alert-danger","py-2"],[1,"mb-3"],["for","type",1,"form-label"],[1,"text-danger"],["formControlName","type","data-choices","","id","type",1,"form-control",3,"ngClass"],["class","invalid-text"],[1,"form-label"],[1,"custom-modal-dropzone"],["type","file","id","productimageupload","accept","image/*","formControlName","image","hidden","",3,"change"],["productimageupload",""],["for","productimageupload",1,"custom-modalfile-input"],[1,"custom-modalfile-text"],["class","list-unstyled mb-0","id","dropzone-preview"],["class","col-lg-6 mt-3 mt-lg-0"],["for","addstatus",1,"form-label"],["formControlName","status","data-choices","","id","addstatus",1,"form-control",3,"ngClass"],["value","active"],["value","inactive"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button",1,"btn","btn-ghost-success",3,"click"],[1,"bi","bi-x-lg","align-baseline","me-1"],["type","submit","class","btn btn-primary","id","add-btn"],[1,"id"],[1,"text-capitalize"],[1,"category"],[1,"flex-shrink-0","d-flex","justify-content-center"],[1,"uploaded-image-avatar","bg-light","rounded","p-2"],[1,"img-fluid","rounded",3,"src"],[1,"status"],[1,"form-switch","form-switch-md","mb-3"],["type","checkbox",1,"form-check-input",3,"checked","id","change"],[1,"form-check-label",3,"for"],[1,"badge","text-capitalize",3,"ngClass"],[1,"px-0"],[1,"d-flex","justify-content-center","gap-2","list-unstyled","mb-0"],[1,"btn","btn-subtle-secondary","btn-icon","btn-sm","edit-item-btn",3,"click"],[1,"ph-pencil","fs-5"],[1,"btn","btn-subtle-danger","btn-icon","btn-sm","remove-item-btn",3,"click"],[1,"ph-trash","fs-5"],[1,"invalid-text"],["id","dropzone-preview",1,"list-unstyled","mb-0"],["id","dropzone-preview-list",1,"mt-2"],[1,"border","rounded"],[1,"d-flex","flex-wrap","gap-2","p-2"],[1,"flex-shrink-0"],[1,"image-avatar","bg-light","rounded","p-2"],["class","img-fluid rounded d-block","alt","Dropzone-Image",3,"src"],[1,"flex-grow-1","me-1"],[1,"pt-1"],["class","fs-md mb-1"],["class","fs-sm text-muted mb-0"],[1,"btn","btn-sm","btn-danger",3,"click"],["alt","Dropzone-Image",1,"img-fluid","rounded","d-block",3,"src"],[1,"fs-md","mb-1"],[1,"fs-sm","text-muted","mb-0"],[1,"col-lg-6","mt-3","mt-lg-0"],["alt","Uploaded Thumbnail",1,"edit-thumbnail-img-fluid","rounded","d-block","w-50",3,"src"],["type","submit","id","add-btn",1,"btn","btn-primary"],[1,"bi","bi-file-earmark-text","me-1","align-baseline"],["type","button","disabled","",1,"btn","btn-secondary"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(a,i){if(1&a){const r=t.KQA();t.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),t.wR5(8,"div",7),t.C$Y()(),t.I0R(9,"div",8)(10,"div",9)(11,"select",10),t.iHE("ngModelChange",function(d){return t.kNx(i.term,d)||(i.term=d),d}),t.qCj("change",function(){return i.filterdata()}),t.I0R(12,"option",11),t.OEk(13,"Select Type"),t.C$Y(),t.I0R(14,"option",12),t.OEk(15,"Banner"),t.C$Y(),t.I0R(16,"option",13),t.OEk(17,"Product Image"),t.C$Y()(),t.wR5(18,"i",14),t.C$Y()(),t.I0R(19,"div",15)(20,"div",16)(21,"div")(22,"a",17),t.qCj("click",function(){return t.usT(r),t.Gew(63).show(),t.CGJ(i.resetForm())}),t.wR5(23,"i",18),t.OEk(24,"Add"),t.C$Y()()()()()(),t.I0R(25,"div",19)(26,"div",20)(27,"table",21)(28,"thead",22)(29,"tr")(30,"th",23),t.OEk(31,"S No."),t.C$Y(),t.I0R(32,"th",23),t.OEk(33,"Type"),t.C$Y(),t.I0R(34,"th",23),t.OEk(35,"Image"),t.C$Y(),t.I0R(36,"th",23),t.OEk(37,"Status"),t.C$Y(),t.I0R(38,"th",24),t.OEk(39,"Action"),t.C$Y()()(),t.I0R(40,"tbody",25),t.c53(41,jt,24,11,"tr",null,t.wJt),t.C$Y()(),t.I0R(43,"div",26)(44,"div",27),t.wR5(45,"i",28),t.I0R(46,"h5",29),t.OEk(47,"Sorry! No Result Found"),t.C$Y(),t.I0R(48,"p",30),t.OEk(49," We did not find any Details for you search. "),t.C$Y()()()(),t.I0R(50,"div",31)(51,"div",32)(52,"div",33),t.OEk(53," Showing "),t.I0R(54,"span",34),t.OEk(55),t.C$Y(),t.OEk(56," of "),t.I0R(57,"span",34),t.OEk(58),t.C$Y(),t.OEk(59," Results "),t.C$Y()(),t.I0R(60,"div",35)(61,"pagination",36),t.qCj("pageChanged",function(d){return i.pageChanged(d)}),t.C$Y()()()()()()()(),t.I0R(62,"div",37,38)(64,"div",39)(65,"div",40)(66,"div",41)(67,"h5",42),t.yuY(68,Nt,1,0)(69,Ut,1,0),t.C$Y(),t.I0R(70,"button",43),t.qCj("click",function(){t.usT(r);const d=t.Gew(63);return t.CGJ(d.hide())}),t.C$Y()(),t.I0R(71,"form",44),t.qCj("submit",function(){t.usT(r);const d=t.Gew(63);return t.CGJ(i.submitproduct(d))}),t.I0R(72,"div",45),t.wR5(73,"div",46),t.I0R(74,"div",47)(75,"label",48),t.OEk(76,"Type "),t.I0R(77,"span",49),t.OEk(78,"*"),t.C$Y()(),t.I0R(79,"select",50)(80,"option",11),t.OEk(81,"Select Type"),t.C$Y(),t.I0R(82,"option",12),t.OEk(83,"Banner"),t.C$Y(),t.I0R(84,"option",13),t.OEk(85,"Product Image"),t.C$Y()(),t.yuY(86,Bt,2,0,"div",51),t.C$Y(),t.I0R(87,"div",47)(88,"label",52),t.OEk(89,"Image"),t.I0R(90,"span",49),t.OEk(91,"*"),t.C$Y()(),t.I0R(92,"div",53)(93,"input",54,55),t.qCj("change",function(d){return i.productimageSelect(d)}),t.C$Y(),t.I0R(95,"label",56)(96,"span",57),t.OEk(97,"Choose a file to upload. "),t.wR5(98,"br"),t.C$Y()()(),t.yuY(99,Kt,14,3,"ul",58)(100,Wt,7,1,"div",59)(101,Ht,2,0,"div",51),t.C$Y(),t.I0R(102,"div",47)(103,"label",60),t.OEk(104,"Status "),t.I0R(105,"span",49),t.OEk(106,"*"),t.C$Y()(),t.I0R(107,"select",61)(108,"option",11),t.OEk(109,"Select Status"),t.C$Y(),t.I0R(110,"option",62),t.OEk(111,"Active"),t.C$Y(),t.I0R(112,"option",63),t.OEk(113,"Inactive"),t.C$Y()(),t.yuY(114,Xt,2,0,"div",51),t.C$Y()(),t.I0R(115,"div",64)(116,"div",65)(117,"button",66),t.qCj("click",function(){t.usT(r);const d=t.Gew(63);return t.CGJ(d.hide())}),t.wR5(118,"i",67),t.OEk(119," Close "),t.C$Y(),t.yuY(120,Zt,3,0,"button",68)(121,te,3,0),t.C$Y()()()()()()}2&a&&(t.yG2(11),t.OKB("ngModel",i.term),t.yG2(30),t.oho(i.productImageData),t.yG2(14),t.cNF(null==i.productImageData?null:i.productImageData.length),t.yG2(3),t.cNF(null==i.productImageDataList?null:i.productImageDataList.length),t.yG2(3),t.E7m("totalItems",null==i.productImageDataList?null:i.productImageDataList.length)("itemsPerPage",5),t.yG2(7),t.C0Y(68,null==i.editId?68:69),t.yG2(3),t.E7m("formGroup",i.product),t.yG2(8),t.E7m("ngClass",i.secOne.type&&i.secOne.type.hasError("required")&&i.secOne.type.touched?"is-invalid":""),t.yG2(7),t.C0Y(86,i.secOne.type&&i.secOne.type.hasError("required")&&i.secOne.type.touched?86:-1),t.yG2(13),t.C0Y(99,i.productselectedImage?99:-1),t.yG2(),t.C0Y(100,i.productuploadedImage?100:-1),t.yG2(),t.C0Y(101,i.secOne.pdf&&i.secOne.pdf.hasError("required")&&i.secOne.pdf.touched?101:-1),t.yG2(6),t.E7m("ngClass",i.secOne.status&&i.secOne.status.hasError("required")&&i.secOne.status.touched?"is-invalid":""),t.yG2(7),t.C0Y(114,i.secOne.status&&i.secOne.status.hasError("required")&&i.secOne.status.touched?114:-1),t.yG2(6),t.C0Y(120,i.addSaveButtonActive?120:121))},dependencies:[m.QF,l.sz,l.wd,l.GO,l.ot,l.GC,l.ue,l.u,l._G,l.uW,l.Wo,b.im,y.uK],styles:['@charset "UTF-8";.dz-preview.dz-file-preview.dz-processing.dz-success.dz-comp\\200c\\200blete[_ngcontent-%COMP%]{display:block!important}.custom-file-text2[_ngcontent-%COMP%]{font-size:.7rem;color:#b3b3b3}.findus-heading[_ngcontent-%COMP%]{color:#000}.custom-dropzone[_ngcontent-%COMP%]{min-height:230px!important;border:2px dashed var(--tb-border-color);background:var(--tb-secondary-bg)!important;border-radius:6px!important;text-align:center;box-sizing:border-box;padding:20px;display:block;width:100%;height:auto}.uploaded-img[_ngcontent-%COMP%]{min-height:230px!important;border-radius:6px!important;text-align:center;box-sizing:border-box;display:block;width:100%;height:auto}.thumbnail-img-fluid[_ngcontent-%COMP%]{max-width:100%;height:274px}.custom-file-input[_ngcontent-%COMP%]{width:100%;min-height:230px!important;cursor:pointer;display:flex;justify-content:center;align-items:center}.custom-file-text[_ngcontent-%COMP%]{font-size:1.5rem;color:#666}.selected-file[_ngcontent-%COMP%]{width:100%;min-height:230px!important;display:flex;justify-content:center;align-items:center}.invalid-text[_ngcontent-%COMP%]{color:#ff6c6c;margin-top:4px}.file-invalid[_ngcontent-%COMP%]{border:2px dashed #ff6c6c}.videoo-avatar-sm[_ngcontent-%COMP%]{width:3rem}.founder-heading[_ngcontent-%COMP%]{color:#000}.image-avatar[_ngcontent-%COMP%]{width:3rem}.uploaded-image-avatar[_ngcontent-%COMP%]{width:5rem}.multi-image-scroll[_ngcontent-%COMP%]{height:270px;overflow-y:scroll}.multi-image-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.multi-image-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:transparent;border-radius:10px}.multi-image-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#8080804a;border-radius:10px}.custom-modal-dropzone[_ngcontent-%COMP%]{height:150px!important;border:2px dashed var(--tb-border-color);background:var(--tb-secondary-bg)!important;border-radius:6px!important;text-align:center;box-sizing:border-box;padding:20px;display:block;width:100%;height:auto}.custom-modalfile-input[_ngcontent-%COMP%]{width:100%;height:100%!important;cursor:pointer;display:flex;justify-content:center;align-items:center}.custom-modalfile-text[_ngcontent-%COMP%]{font-size:1rem;color:#666}.edit-thumbnail-img-fluid[_ngcontent-%COMP%]{max-width:100%}.custom-file-text2[_ngcontent-%COMP%]{font-size:1rem;color:#b3b3b3}.custom-file-text2-mob[_ngcontent-%COMP%]{font-size:.8rem;color:#b3b3b3}.custom-file-text-mob[_ngcontent-%COMP%]{font-size:1rem;color:#666}']})}return o})();function ie(o,n){1&o&&(t.I0R(0,"div",1)(1,"div",68)(2,"span",69),t.OEk(3,"Loading..."),t.C$Y()()())}function oe(o,n){1&o&&(t.I0R(0,"div",70),t.OEk(1," Title is required. "),t.C$Y())}function ae(o,n){1&o&&(t.I0R(0,"div",70),t.OEk(1," Product type is required. "),t.C$Y())}function ne(o,n){1&o&&(t.I0R(0,"div",70),t.OEk(1," Description is required. "),t.C$Y())}function re(o,n){1&o&&(t.I0R(0,"div",70),t.OEk(1," SKU number is required. "),t.C$Y())}function se(o,n){1&o&&(t.I0R(0,"div",70),t.OEk(1," This field is required. "),t.C$Y())}function de(o,n){1&o&&t.OEk(0),2&o&&t.oRS(" ",n.item.title||"Unnamed group"," ")}function le(o,n){1&o&&(t.I0R(0,"div",70),t.OEk(1,"Status is required."),t.C$Y())}function ce(o,n){if(1&o&&(t.I0R(0,"option",71),t.OEk(1),t.C$Y()),2&o){const e=n.$implicit;t._6D("value",e.id),t.yG2(),t.oRS(" ",e.title," ")}}function ue(o,n){1&o&&(t.I0R(0,"div",70),t.OEk(1," Category ID is required. "),t.C$Y())}function me(o,n){if(1&o&&(t.I0R(0,"option",71),t.OEk(1),t.C$Y()),2&o){const e=n.$implicit;t._6D("value",e.id),t.yG2(),t.oRS(" ",e.title," ")}}function pe(o,n){1&o&&(t.I0R(0,"div",70),t.OEk(1," Sub Category ID is required. "),t.C$Y())}function ge(o,n){1&o&&(t.I0R(0,"div",70),t.OEk(1," CTA name is required. "),t.C$Y())}function he(o,n){1&o&&(t.I0R(0,"div",70),t.OEk(1," CTA Status is required. "),t.C$Y())}function Ce(o,n){if(1&o&&(t.I0R(0,"div",2)(1,"div",13)(2,"div",14)(3,"label",72),t.OEk(4,"CTA Button"),t.I0R(5,"span",16),t.OEk(6,"*"),t.C$Y()(),t.wR5(7,"input",73),t.yuY(8,ge,2,0,"div",18),t.C$Y()(),t.I0R(9,"div",13)(10,"div",14)(11,"label",74),t.OEk(12,"CTA Status"),t.C$Y(),t.I0R(13,"select",75)(14,"option",21),t.OEk(15,"Select Status"),t.C$Y(),t.I0R(16,"option",42),t.OEk(17,"Active"),t.C$Y(),t.I0R(18,"option",43),t.OEk(19,"Inactive"),t.C$Y()(),t.yuY(20,he,2,0,"div",18),t.C$Y()()()),2&o){const e=t.GaO();t.yG2(7),t.E7m("ngClass",e.s2.cta_btn&&e.s2.cta_btn.hasError("required")&&e.s2.cta_btn.touched?"is-invalid":""),t.yG2(),t.E7m("ngIf",e.s2.cta_btn&&e.s2.cta_btn.hasError("required")&&e.s2.cta_btn.touched),t.yG2(5),t.E7m("ngClass",e.s2.cta_status&&e.s2.cta_status.hasError("required")&&e.s2.cta_status.touched?"is-invalid":""),t.yG2(7),t.E7m("ngIf",e.s2.cta_status&&e.s2.cta_status.hasError("required")&&e.s2.cta_status.touched)}}function fe(o,n){1&o&&(t.I0R(0,"div",70),t.OEk(1," Product price is required. "),t.C$Y())}function be(o,n){if(1&o&&(t.I0R(0,"div",2)(1,"div",13)(2,"div",14)(3,"label",76),t.OEk(4,"Product MRP"),t.I0R(5,"span",16),t.OEk(6,"*"),t.C$Y()(),t.wR5(7,"input",77),t.yuY(8,fe,2,0,"div",18),t.C$Y()(),t.I0R(9,"div",13)(10,"div",14)(11,"label",78),t.OEk(12,"Discount MRP"),t.C$Y(),t.wR5(13,"input",79),t.C$Y()()()),2&o){const e=t.GaO();t.yG2(7),t.E7m("ngClass",e.s2.product_price&&e.s2.product_price.hasError("required")&&e.s2.product_price.touched?"is-invalid":""),t.yG2(),t.E7m("ngIf",e.s2.product_price&&e.s2.product_price.hasError("required")&&e.s2.product_price.touched)}}function ye(o,n){1&o&&(t.I0R(0,"div",70),t.OEk(1," Validity is required. "),t.C$Y())}function _e(o,n){1&o&&(t.I0R(0,"div",70),t.OEk(1," Validity Unit is required. "),t.C$Y())}const h=o=>({"is-invalid":o});function ve(o,n){if(1&o&&(t.I0R(0,"div",2)(1,"div",13)(2,"div",14)(3,"label",80),t.OEk(4,"Validity"),t.C$Y(),t.wR5(5,"input",81),t.yuY(6,ye,2,0,"div",18),t.C$Y()(),t.I0R(7,"div",13)(8,"div",14)(9,"label",82),t.OEk(10,"Validity Unit"),t.C$Y(),t.I0R(11,"select",83)(12,"option",21),t.OEk(13,"Select Unit"),t.C$Y(),t.I0R(14,"option",84),t.OEk(15,"Day"),t.C$Y(),t.I0R(16,"option",85),t.OEk(17,"Week"),t.C$Y(),t.I0R(18,"option",86),t.OEk(19,"Month"),t.C$Y(),t.I0R(20,"option",87),t.OEk(21,"Year"),t.C$Y()(),t.yuY(22,_e,2,0,"div",18),t.C$Y()()()),2&o){const e=t.GaO();let a,i,r,s;t.yG2(5),t.E7m("ngClass",t.S45(4,h,(null==(a=e.formGroup.get("validity"))?null:a.invalid)&&(null==(a=e.formGroup.get("validity"))?null:a.touched))),t.yG2(),t.E7m("ngIf",(null==(i=e.formGroup.get("validity"))?null:i.invalid)&&(null==(i=e.formGroup.get("validity"))?null:i.touched)),t.yG2(5),t.E7m("ngClass",t.S45(6,h,(null==(r=e.formGroup.get("validityUnit"))?null:r.invalid)&&(null==(r=e.formGroup.get("validityUnit"))?null:r.touched))),t.yG2(11),t.E7m("ngIf",(null==(s=e.formGroup.get("validityUnit"))?null:s.invalid)&&(null==(s=e.formGroup.get("validityUnit"))?null:s.touched))}}function Ie(o,n){1&o&&(t.I0R(0,"div",70),t.OEk(1," Quantity is required. "),t.C$Y())}function Re(o,n){1&o&&(t.I0R(0,"div",70),t.OEk(1," Product limit is required. "),t.C$Y())}function Ee(o,n){if(1&o&&(t.I0R(0,"div",2)(1,"div",13)(2,"div",14)(3,"label",88),t.OEk(4,"Quantity"),t.C$Y(),t.wR5(5,"input",89),t.yuY(6,Ie,2,0,"div",18),t.C$Y()(),t.I0R(7,"div",13)(8,"div",14)(9,"label",90),t.OEk(10,"Product Limit"),t.C$Y(),t.wR5(11,"input",91),t.yuY(12,Re,2,0,"div",18),t.C$Y()()()),2&o){const e=t.GaO();let a,i,r,s;t.yG2(5),t.E7m("ngClass",t.S45(4,h,(null==(a=e.formGroup.get("quantity"))?null:a.invalid)&&(null==(a=e.formGroup.get("quantity"))?null:a.touched))),t.yG2(),t.E7m("ngIf",(null==(i=e.formGroup.get("quantity"))?null:i.invalid)&&(null==(i=e.formGroup.get("quantity"))?null:i.touched)),t.yG2(5),t.E7m("ngClass",t.S45(6,h,(null==(r=e.formGroup.get("product_limit"))?null:r.invalid)&&(null==(r=e.formGroup.get("product_limit"))?null:r.touched))),t.yG2(),t.E7m("ngIf",(null==(s=e.formGroup.get("product_limit"))?null:s.invalid)&&(null==(s=e.formGroup.get("product_limit"))?null:s.touched))}}function ke(o,n){1&o&&(t.I0R(0,"button",92),t.wR5(1,"i",93),t.OEk(2," Save "),t.C$Y())}function Oe(o,n){1&o&&(t.I0R(0,"button",94),t.wR5(1,"span",95),t.OEk(2," Please wait "),t.C$Y())}function Ye(o,n){1&o&&(t.I0R(0,"button",92),t.wR5(1,"i",93),t.OEk(2," Save "),t.C$Y())}function we(o,n){1&o&&(t.I0R(0,"button",94),t.wR5(1,"span",95),t.OEk(2," Please wait "),t.C$Y())}let k=(()=>{class o{constructor(e,a,i,r,s,d){this.formBuilder=e,this.api=a,this.toastService=i,this.route=r,this.sanitizer=s,this.router=d,this.titleChange=new t._w7,this.productData=[],this.subproductData=[],this.editId=null,this.addSaveButtonActive=!0,this.spinnerStatus=!1,this.categoryData=[],this.subcategoryData=[],this.productUploadedThumbnail=[],this.productImageFilePreview=[],this.productImageSelectedFiles=[],this.selectedFile=null,this.selectedImage=null,this.selectedImagePreview=null,this.uploadedImage=null,this.term="",this.currentPage=1,this.totalItems=0,this.itemsPerPage=5,this.editor=u.GW,this.toolbar=u.Ad,this.editordescription=u.GW,this.editorinstructions=u.GW,this.editordisclaimer=u.GW,this.editorshortDescription=u.GW,this.tags=[]}ngOnInit(){this.breadCrumbItems=[{label:"Product",active:!0},{label:"Product List ",active:!0}],this.editordescription=new u.GW,this.editorshortDescription=new u.GW,this.editorinstructions=new u.GW,this.editordisclaimer=new u.GW,this.route.params.subscribe(e=>{this.editId=e.id}),this.editId&&this.productGet(),this.getCategoryData(),this.getSubCategoryData(),this.initializeFormproduct(),this.getTag()}getTag(){this.api.getwithoutid("tag?columns=id,title&status=active").subscribe(e=>{e&&e.status?this.tags=e.data||[]:this.handleError("Unexpected response format")},e=>{this.handleError(e.message||"An error occurred while fetching data")})}productGet(){this.api.get("product",this.editId).subscribe(e=>{if(e&&e.status){const i=e.data[0];if(i.tags&&"undefined"!=i.tags)var a=Array.isArray(i.tags)?i.tags:JSON.parse(i.tags);this.formGroup.patchValue({category_id:i.category_id,sub_category_id:i.sub_category_id,title:i.title,description:i.description,short_description:i.short_description,instructions:i.instructions,sku_no:i.sku_no,product_price:i.product_price,discount_price:i.discount_price,quantity:i.quantity,validity:i.validity,validityUnit:i.validityUnit,product_limit:i.product_limit,seo_url:i.seo_url,slug:i.slug,meta_tag:i.meta_tag,meta_keywords:i.meta_keywords,meta_description:i.meta_description,product_type:i.product_type,status:i.status,price_on_req:i.price_on_req,cta_btn:i.cta_btn,cta_status:i.cta_status,tags:a}),this.uploadedImage=i.product_pdf}else this.handleError("Unexpected response format")},e=>{this.handleError(e.message||"An error occurred while fetching data")})}initializeFormproduct(){this.formGroup=this.formBuilder.group({category_id:["",[l.AQ.required]],sub_category_id:["",[l.AQ.required]],title:["",[l.AQ.required,l.AQ.maxLength(45)]],description:["",[l.AQ.required]],short_description:[""],instructions:[""],disclaimer:[""],sku_no:["",[l.AQ.required]],product_price:["",[l.AQ.required]],discount_price:[""],product_pdf:[""],quantity:[""],validity:[""],validityUnit:[""],product_limit:[""],seo_url:[""],tags:[""],slug:[""],meta_tag:[""],meta_keywords:[""],meta_description:[""],status:["",[l.AQ.required]],product_type:["",[l.AQ.required]],price_on_req:["",[l.AQ.required]],cta_btn:[""],cta_status:[""]}),this.formGroup.get("price_on_req")?.valueChanges.subscribe(e=>{const a=this.formGroup.get("cta_btn"),i=this.formGroup.get("cta_status"),r=this.formGroup.get("product_price");"false"===e?(a?.setValidators([l.AQ.required]),i?.setValidators([l.AQ.required]),r?.clearValidators()):"true"===e?(r?.setValidators([l.AQ.required]),a?.clearValidators(),i?.clearValidators()):(r?.clearValidators(),a?.clearValidators(),i?.clearValidators()),r?.updateValueAndValidity(),a?.updateValueAndValidity(),i?.updateValueAndValidity()}),this.formGroup.get("product_type")?.valueChanges.subscribe(e=>{const a=this.formGroup.get("quantity"),i=this.formGroup.get("product_limit"),r=this.formGroup.get("validity"),s=this.formGroup.get("validityUnit");"product"===e?(a?.setValidators([l.AQ.required]),i?.setValidators([l.AQ.required]),r?.clearValidators(),s?.clearValidators()):"service"===e?(r?.setValidators([l.AQ.required]),s?.setValidators([l.AQ.required]),a?.clearValidators(),i?.clearValidators()):(a?.clearValidators(),i?.clearValidators(),r?.clearValidators(),s?.clearValidators()),a?.updateValueAndValidity(),i?.updateValueAndValidity(),r?.updateValueAndValidity(),s?.updateValueAndValidity()})}productimageValidator(){return e=>null==this.editId?l.AQ.required(e):null}get s2(){return this.formGroup.controls}toggleSpinner(e){this.spinnerStatus=e,this.addSaveButtonActive=!e}getCategoryData(){this.api.getwithoutid("product-category?columns=id,title").subscribe(e=>{e&&e.status?this.categoryData=e.data||[]:this.handleError("Unexpected response format")},e=>{this.handleError(e.message||"An error occurred while fetching data")})}getSubCategoryData(){this.api.getwithoutid("product-sub-category?columns=id,title").subscribe(e=>{e&&e.status?this.subcategoryData=e.data||[]:this.handleError("Unexpected response format")},e=>{this.handleError(e.message||"An error occurred while fetching data")})}onSubmit(){if(this.formGroup.valid){this.toggleSpinner(!0);const e=this.createproductFormData();null!=this.editId?this.updateproduct(e,this.editId):this.addproduct(e)}else this.formGroup.markAllAsTouched(),this.toastService.error("Please fill in all General information required fields.")}createproductFormData(){const e=new FormData;e.append("category_id",this.s2.category_id.value),e.append("sub_category_id",this.s2.sub_category_id.value),e.append("title",this.s2.title.value),e.append("product_type",this.s2.product_type.value),e.append("description",this.s2.description.value),e.append("short_description",this.s2.short_description.value),e.append("instructions",this.s2.instructions.value),e.append("disclaimer",this.s2.disclaimer.value),e.append("sku_no",this.s2.sku_no.value),e.append("product_price",this.s2.product_price.value),e.append("discount_price",this.s2.discount_price.value),e.append("quantity",this.s2.quantity.value),e.append("validity",this.s2.validity.value),e.append("validityUnit",this.s2.validityUnit.value),e.append("product_limit",this.s2.product_limit.value),e.append("seo_url",this.s2.seo_url.value),e.append("tags",JSON.stringify(this.s2.tags.value)),e.append("slug",this.s2.slug.value),e.append("meta_tag",this.s2.meta_tag.value),e.append("meta_keywords",this.s2.meta_keywords.value),e.append("meta_description",this.s2.meta_description.value),e.append("status",this.s2.status.value),e.append("price_on_req",this.s2.price_on_req.value),e.append("cta_btn",this.s2.cta_btn.value),e.append("cta_status",this.s2.cta_status.value),this.selectedImage&&e.append("product_pdf",this.selectedImage);const i=localStorage.getItem("currentUser"),s=(i?JSON.parse(i):{}).username||"Admin";return e.append(null!=this.editId?"updated_by":"created_by",s),e}updateproduct(e,a){this.api.put("product",a,e).subscribe(i=>this.handleproductResponse(i),i=>this.handleError(i))}addproduct(e){this.api.post("product",e).subscribe(a=>this.handleproductResponse(a),a=>this.handleError(a))}handleproductResponse(e){this.toggleSpinner(!1),!0===e.status?(this.toastService.success("Data Saved Successfully!!"),this.router.navigate(["/products"])):this.toastService.error(e.message)}resetForm(){this.editId=null,this.formGroup.reset()}handleError(e){this.toggleSpinner(!1)}onProductImageSelected(e){const a=e.target.files;a&&a.length<6&&a.forEach(i=>{this.productImageSelectedFiles.push(i),this.productImageFilePreview.push(URL.createObjectURL(i))})}removeproductSelectedFile(e,a,i){this.productImageSelectedFiles.splice(this.productImageSelectedFiles.indexOf(a),1),this.productImageFilePreview.splice(this.productImageFilePreview.indexOf(i),1),e.value=null}editproductUploadedFile(e,a,i){const r=e.target.files[0];r&&a&&(this.spinnerStatus=!0,(new FormData).append("image",r))}deleteproductUploadedFile(e){e&&p().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(a=>{})}imageSelect(e){const a=e.target.files[0];a&&(this.selectedImage=a,this.selectedImagePreview=URL.createObjectURL(a))}removeImage(){this.selectedImage=null,this.selectedImagePreview=null}static#t=this.\u0275fac=function(a){return new(a||o)(t.GI1(l.im),t.GI1(C.W),t.GI1(f.SA),t.GI1(g.gV),t.GI1(v.mI),t.GI1(g.E5))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-add-product"]],outputs:{titleChange:"titleChange"},decls:200,vars:58,consts:[[3,"title","breadcrumbItems"],["id","elmLoader"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],["id","accordionWithplusicon",1,"accordion","custom-accordionwithicon-plus",3,"closeOthers"],[1,"accordion-item"],["accordion-heading","","id","accordionwithplusExample1",1,"accordion-header"],["type","button",1,"accordion-button","text-uppercase"],["id","accor_plusExamplecollapse1",1,"accordion-collapse","collapse","show"],[1,"accordion-body"],[3,"formGroup","submit"],[1,"col-lg-6"],[1,"mb-3"],["for","title",1,"form-label"],[1,"text-danger"],["type","text","id","title","formControlName","title","placeholder","Enter title",1,"form-control",3,"ngClass"],["class","invalid-text",4,"ngIf"],["for","productType",1,"form-label"],["formControlName","product_type","data-choices","","id","productType",1,"form-control",3,"ngClass"],["value",""],["value","service"],["value","product"],["value","package"],[1,"form-label"],[3,"editor","toolbar"],["formControlName","description",3,"editor","placeholder","ngClass"],["for","instructions",1,"form-label"],["formControlName","instructions",3,"editor","placeholder","ngClass"],["for","skuNo",1,"form-label"],["type","text","id","skuNo","formControlName","sku_no","placeholder","Enter SKU number",1,"form-control",3,"ngClass"],["for","addprice_on_req",1,"form-label"],["formControlName","price_on_req","data-choices","","id","addprice_on_req",1,"form-control",3,"ngClass"],["value","true"],["value","false"],["class","invalid-text"],["for","tags",1,"form-label"],["id","tags","formControlName","tags","bindLabel","title",3,"items","multiple","clearable"],["ng-optgroup-tmp",""],["for","addstatus",1,"form-label"],["formControlName","status","data-choices","","id","addstatus",1,"form-control",3,"ngClass"],["value","active"],["value","inactive"],["for","category_id",1,"form-label"],["formControlName","category_id","data-choices","","id","productType",1,"form-control",3,"ngClass"],["for","sub_category_id",1,"form-label"],["formControlName","sub_category_id","data-choices","","id","productType",1,"form-control",3,"ngClass"],[1,"col-12"],["for","shortDescription",1,"form-label"],["formControlName","short_description",3,"editor","placeholder","ngClass"],["for","disclaimer",1,"form-label"],["formControlName","disclaimer",3,"editor","placeholder","ngClass"],["class","row"],[1,"col-12","mt-4"],[1,"hstack","gap-2","justify-content-start"],["type","submit","class","btn btn-primary","id","add-btn"],[1,"col-lg-4"],["for","seoUrl",1,"form-label"],["type","text","id","seoUrl","formControlName","seo_url","placeholder","Enter SEO URL",1,"form-control"],["for","slug",1,"form-label"],["type","text","id","slug","formControlName","slug","placeholder","Enter slug",1,"form-control"],["for","metaTag",1,"form-label"],["type","text","id","metaTag","formControlName","meta_tag","placeholder","Enter meta tag",1,"form-control"],["for","metaKeywords",1,"form-label"],["type","text","id","metaKeywords","formControlName","meta_keywords","placeholder","Enter meta keywords",1,"form-control"],["for","metaDescription",1,"form-label"],["type","text","id","metaDescription","formControlName","meta_description","placeholder","Enter meta description",1,"form-control"],["role","status",1,"spinner-border","text-primary","avatar-sm"],[1,"visually-hidden"],[1,"invalid-text"],[3,"value"],["for","catbtn",1,"form-label"],["type","text","id","catbtn","formControlName","cta_btn","placeholder","Enter CTA name",1,"form-control",3,"ngClass"],["for","addcta_status",1,"form-label"],["formControlName","cta_status","data-choices","","id","addcta_status",1,"form-control",3,"ngClass"],["for","productPrice",1,"form-label"],["type","number","id","productPrice","formControlName","product_price","placeholder","Enter product price",1,"form-control",3,"ngClass"],["for","discountPrice",1,"form-label"],["type","number","id","discountPrice","formControlName","discount_price","placeholder","Enter discount price",1,"form-control"],["for","validity",1,"form-label"],["type","number","id","validity","formControlName","validity","placeholder","Enter validity",1,"form-control",3,"ngClass"],["for","validityUnit",1,"form-label"],["id","validityUnit","formControlName","validityUnit",1,"form-control",3,"ngClass"],["value","day"],["value","week"],["value","month"],["value","year"],["for","quantity",1,"form-label"],["type","number","id","quantity","formControlName","quantity","placeholder","Enter quantity",1,"form-control",3,"ngClass"],["for","productLimit",1,"form-label"],["type","number","id","productLimit","formControlName","product_limit","placeholder","Enter product limit",1,"form-control",3,"ngClass"],["type","submit","id","add-btn",1,"btn","btn-primary"],[1,"bi","bi-file-earmark-text","me-1","align-baseline"],["type","button","disabled","",1,"btn","btn-secondary"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(a,i){1&a&&(t.wR5(0,"app-breadcrumbs",0),t.yuY(1,ie,4,0,"div",1),t.I0R(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"accordion",6)(7,"accordion-group",7)(8,"h2",8)(9,"button",9),t.OEk(10," General information "),t.C$Y()(),t.I0R(11,"div",10)(12,"div",11)(13,"form",12),t.qCj("submit",function(){return i.onSubmit()}),t.I0R(14,"div",2)(15,"div",13)(16,"div",2)(17,"div",13)(18,"div",14)(19,"label",15),t.OEk(20,"Product Name"),t.I0R(21,"span",16),t.OEk(22,"*"),t.C$Y()(),t.wR5(23,"input",17),t.yuY(24,oe,2,0,"div",18),t.C$Y()(),t.I0R(25,"div",13)(26,"div",14)(27,"label",19),t.OEk(28,"Product Type"),t.I0R(29,"span",16),t.OEk(30,"*"),t.C$Y()(),t.I0R(31,"select",20)(32,"option",21),t.OEk(33,"Select Product Type"),t.C$Y(),t.I0R(34,"option",22),t.OEk(35,"Service"),t.C$Y(),t.I0R(36,"option",23),t.OEk(37,"Product"),t.C$Y(),t.I0R(38,"option",24),t.OEk(39,"Package"),t.C$Y()(),t.yuY(40,ae,2,0,"div",18),t.C$Y()()(),t.I0R(41,"div",14)(42,"label",25),t.OEk(43,"Description"),t.I0R(44,"span",16),t.OEk(45,"*"),t.C$Y()(),t.wR5(46,"ngx-editor-menu",26)(47,"ngx-editor",27),t.yuY(48,ne,2,0,"div",18),t.C$Y(),t.I0R(49,"div",14)(50,"label",28),t.OEk(51,"Instructions"),t.C$Y(),t.wR5(52,"ngx-editor-menu",26)(53,"ngx-editor",29),t.C$Y(),t.I0R(54,"div",2)(55,"div",13)(56,"div",14)(57,"label",30),t.OEk(58,"SKU Number"),t.I0R(59,"span",16),t.OEk(60,"*"),t.C$Y()(),t.wR5(61,"input",31),t.yuY(62,re,2,0,"div",18),t.C$Y()(),t.I0R(63,"div",13)(64,"div",14)(65,"label",32),t.OEk(66,"Price visibility "),t.I0R(67,"span",16),t.OEk(68,"*"),t.C$Y()(),t.I0R(69,"select",33)(70,"option",21),t.OEk(71,"Select"),t.C$Y(),t.I0R(72,"option",34),t.OEk(73,"Yes"),t.C$Y(),t.I0R(74,"option",35),t.OEk(75,"No"),t.C$Y()(),t.yuY(76,se,2,0,"div",36),t.C$Y()()(),t.I0R(77,"div",2)(78,"div",13)(79,"div",14)(80,"label",37),t.OEk(81,"Tags"),t.C$Y(),t.I0R(82,"ng-select",38),t.yuY(83,de,1,1,"ng-template",39),t.C$Y()()(),t.I0R(84,"div",13)(85,"div",14)(86,"label",40),t.OEk(87,"Product Status "),t.I0R(88,"span",16),t.OEk(89,"*"),t.C$Y()(),t.I0R(90,"select",41)(91,"option",21),t.OEk(92,"Select Status"),t.C$Y(),t.I0R(93,"option",42),t.OEk(94,"Active"),t.C$Y(),t.I0R(95,"option",43),t.OEk(96,"Inactive"),t.C$Y()(),t.yuY(97,le,2,0,"div",36),t.C$Y()()()(),t.I0R(98,"div",13)(99,"div",2)(100,"div",13)(101,"div",14)(102,"label",44),t.OEk(103,"Category"),t.I0R(104,"span",16),t.OEk(105,"*"),t.C$Y()(),t.I0R(106,"select",45)(107,"option",21),t.OEk(108,"Select Sub Category"),t.C$Y(),t.c53(109,ce,2,2,"option",71,t.wJt),t.C$Y(),t.yuY(111,ue,2,0,"div",18),t.C$Y()(),t.I0R(112,"div",13)(113,"div",14)(114,"label",46),t.OEk(115,"Sub Category "),t.I0R(116,"span",16),t.OEk(117,"*"),t.C$Y()(),t.I0R(118,"select",47)(119,"option",21),t.OEk(120,"Select Sub Category"),t.C$Y(),t.c53(121,me,2,2,"option",71,t.wJt),t.C$Y(),t.yuY(123,pe,2,0,"div",18),t.C$Y()()(),t.I0R(124,"div",2)(125,"div",48)(126,"div",14)(127,"label",49),t.OEk(128,"Short Description"),t.C$Y(),t.wR5(129,"ngx-editor-menu",26)(130,"ngx-editor",50),t.C$Y()()(),t.I0R(131,"div",2)(132,"div",48)(133,"div",14)(134,"label",51),t.OEk(135,"Disclaimer"),t.C$Y(),t.wR5(136,"ngx-editor-menu",26)(137,"ngx-editor",52),t.C$Y()()(),t.yuY(138,Ce,21,4,"div",53)(139,be,14,2,"div",53)(140,ve,23,8,"div",53)(141,Ee,13,8,"div",53),t.C$Y(),t.I0R(142,"div",54)(143,"div",55),t.yuY(144,ke,3,0,"button",56)(145,Oe,3,0),t.C$Y()()()()()()(),t.I0R(146,"accordion-group",7)(147,"h2",8)(148,"button",9),t.OEk(149," Meta tag information "),t.C$Y()(),t.I0R(150,"div",10)(151,"div",11)(152,"form",12),t.qCj("submit",function(){return i.onSubmit()}),t.I0R(153,"div",2)(154,"div",48)(155,"div",2)(156,"div",57)(157,"div",14)(158,"label",58),t.OEk(159,"SEO URL"),t.C$Y(),t.wR5(160,"input",59),t.C$Y()(),t.I0R(161,"div",57)(162,"div",14)(163,"label",60),t.OEk(164,"Slug"),t.C$Y(),t.wR5(165,"input",61),t.C$Y()(),t.I0R(166,"div",57)(167,"div",14)(168,"label",62),t.OEk(169,"Meta Tag"),t.C$Y(),t.wR5(170,"input",63),t.C$Y()()(),t.I0R(171,"div",2)(172,"div",57)(173,"div",14)(174,"label",64),t.OEk(175,"Meta Keywords"),t.C$Y(),t.wR5(176,"input",65),t.C$Y()(),t.I0R(177,"div",57)(178,"div",14)(179,"label",66),t.OEk(180,"Meta Description"),t.C$Y(),t.wR5(181,"input",67),t.C$Y()()(),t.I0R(182,"div",54)(183,"div",55),t.yuY(184,Ye,3,0,"button",56)(185,we,3,0),t.C$Y()()()()()()()(),t.I0R(186,"accordion-group",7)(187,"h2",8)(188,"button",9),t.OEk(189," Product catalog "),t.C$Y()(),t.I0R(190,"div",10)(191,"div",11),t.wR5(192,"app-add-catalog"),t.C$Y()()(),t.I0R(193,"accordion-group",7)(194,"h2",8)(195,"button",9),t.OEk(196," Product Image "),t.C$Y()(),t.I0R(197,"div",10)(198,"div",11),t.wR5(199,"app-add-product-image"),t.C$Y()()()()()()()()),2&a&&(t.E7m("title",i.editId?"Edit Product":"Add Product")("breadcrumbItems",i.breadCrumbItems),t.yG2(),t.C0Y(1,i.spinnerStatus?1:-1),t.yG2(5),t.E7m("closeOthers",!0),t.yG2(7),t.E7m("formGroup",i.formGroup),t.yG2(10),t.E7m("ngClass",i.s2.title&&i.s2.title.hasError("required")&&i.s2.title.touched?"is-invalid":""),t.yG2(),t.E7m("ngIf",i.s2.title&&i.s2.title.hasError("required")&&i.s2.title.touched),t.yG2(7),t.E7m("ngClass",i.s2.product_type&&i.s2.product_type.hasError("required")&&i.s2.product_type.touched?"is-invalid":""),t.yG2(9),t.E7m("ngIf",i.s2.product_type&&i.s2.product_type.hasError("required")&&i.s2.product_type.touched),t.yG2(6),t.E7m("editor",i.editordescription)("toolbar",i.toolbar),t.yG2(),t.E7m("editor",i.editordescription)("placeholder","Type here...")("ngClass",t.S45(50,h,i.s2.description&&i.s2.description.errors&&i.s2.description.touched)),t.yG2(),t.E7m("ngIf",i.s2.description&&i.s2.description.hasError("required")&&i.s2.description.touched),t.yG2(4),t.E7m("editor",i.editorinstructions)("toolbar",i.toolbar),t.yG2(),t.E7m("editor",i.editorinstructions)("placeholder","Type here...")("ngClass",t.S45(52,h,i.s2.instructions&&i.s2.instructions.errors&&i.s2.instructions.touched)),t.yG2(8),t.E7m("ngClass",i.s2.sku_no&&i.s2.sku_no.hasError("required")&&i.s2.sku_no.touched?"is-invalid":""),t.yG2(),t.E7m("ngIf",i.s2.sku_no&&i.s2.sku_no.hasError("required")&&i.s2.sku_no.touched),t.yG2(7),t.E7m("ngClass",i.s2.price_on_req&&i.s2.price_on_req.hasError("required")&&i.s2.price_on_req.touched?"is-invalid":""),t.yG2(7),t.C0Y(76,i.s2.price_on_req&&i.s2.price_on_req.hasError("required")&&i.s2.price_on_req.touched?76:-1),t.yG2(6),t.E7m("items",i.tags)("multiple",!0)("clearable",!1),t.yG2(8),t.E7m("ngClass",i.s2.status&&i.s2.status.hasError("required")&&i.s2.status.touched?"is-invalid":""),t.yG2(7),t.C0Y(97,i.s2.status&&i.s2.status.hasError("required")&&i.s2.status.touched?97:-1),t.yG2(9),t.E7m("ngClass",i.s2.category_id&&i.s2.category_id.hasError("required")&&i.s2.category_id.touched?"is-invalid":""),t.yG2(3),t.oho(i.categoryData),t.yG2(2),t.E7m("ngIf",i.s2.category_id&&i.s2.category_id.hasError("required")&&i.s2.category_id.touched),t.yG2(7),t.E7m("ngClass",i.s2.sub_category_id&&i.s2.sub_category_id.hasError("required")&&i.s2.sub_category_id.touched?"is-invalid":""),t.yG2(3),t.oho(i.subcategoryData),t.yG2(2),t.E7m("ngIf",i.s2.sub_category_id&&i.s2.sub_category_id.hasError("required")&&i.s2.sub_category_id.touched),t.yG2(6),t.E7m("editor",i.editorshortDescription)("toolbar",i.toolbar),t.yG2(),t.E7m("editor",i.editorshortDescription)("placeholder","Type here...")("ngClass",t.S45(54,h,i.s2.short_description&&i.s2.short_description.errors&&i.s2.short_description.touched)),t.yG2(6),t.E7m("editor",i.editordisclaimer)("toolbar",i.toolbar),t.yG2(),t.E7m("editor",i.editordisclaimer)("placeholder","Type here...")("ngClass",t.S45(56,h,i.s2.disclaimer&&i.s2.disclaimer.errors&&i.s2.disclaimer.touched)),t.yG2(),t.C0Y(138,"false"==i.s2.price_on_req.value?138:-1),t.yG2(),t.C0Y(139,"true"==i.s2.price_on_req.value?139:-1),t.yG2(),t.C0Y(140,"service"==i.s2.product_type.value?140:-1),t.yG2(),t.C0Y(141,"product"==i.s2.product_type.value?141:-1),t.yG2(3),t.C0Y(144,i.addSaveButtonActive?144:145),t.yG2(8),t.E7m("formGroup",i.formGroup),t.yG2(32),t.C0Y(184,i.addSaveButtonActive?184:185))},dependencies:[m.QF,m.u_,_.O,l.sz,l.wd,l.GO,l.ot,l.O4,l.GC,l.ue,l.u,l.uW,l.Wo,I.Wz,I.gD,R.UT,R.GU,u.Ip,u.Sw,Mt,ee],styles:['@charset "UTF-8";.dz-preview.dz-file-preview.dz-processing.dz-success.dz-comp\\200c\\200blete[_ngcontent-%COMP%]{display:block!important}.custom-dropzone[_ngcontent-%COMP%]{min-height:230px!important;border:2px dashed var(--tb-border-color);background:var(--tb-secondary-bg)!important;border-radius:6px!important;text-align:center;box-sizing:border-box;padding:20px;display:block;width:100%;height:auto}.custom-file-input[_ngcontent-%COMP%]{width:100%;min-height:230px!important;cursor:pointer;display:flex;justify-content:center;align-items:center}.custom-file-text[_ngcontent-%COMP%]{font-size:1.5rem;color:#666}.selected-file[_ngcontent-%COMP%]{width:100%;min-height:230px!important;display:flex;justify-content:center;align-items:center}.invalid-text[_ngcontent-%COMP%]{color:#ff6c6c;margin-top:4px}.uploaded-img[_ngcontent-%COMP%], .uploaded-imgg[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.file-invalid[_ngcontent-%COMP%]{border:2px dashed #ff6c6c}.videoo-avatar-sm[_ngcontent-%COMP%]{width:3rem}.uploaded-imgg[_ngcontent-%COMP%]{min-height:230px!important;border-radius:6px!important;text-align:center;box-sizing:border-box;display:block;width:100%;height:auto}.thumbnail-img-fluid[_ngcontent-%COMP%]{max-width:100%;height:274px}.custom-file-text2[_ngcontent-%COMP%]{font-size:1rem;color:#b3b3b3}.uploaded-image-avatar[_ngcontent-%COMP%]{width:5rem}.image-avatar[_ngcontent-%COMP%]{width:3rem}.multi-image-scroll[_ngcontent-%COMP%]{height:270px;overflow-y:scroll}.multi-image-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.multi-image-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:transparent;border-radius:10px}.multi-image-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#8080804a;border-radius:10px}.custom-file-text2-mob[_ngcontent-%COMP%]{font-size:.8rem;color:#b3b3b3}.custom-file-text-mob[_ngcontent-%COMP%]{font-size:1rem;color:#666}']})}return o})();const Se=(o,n)=>({"bg-info-subtle text-info":o,"bg-danger-subtle text-danger":n});function Ge(o,n){if(1&o){const e=t.KQA();t.I0R(0,"tr")(1,"td",61),t.OEk(2),t.C$Y(),t.I0R(3,"td",62),t.OEk(4),t.C$Y(),t.I0R(5,"td",63)(6,"div",64)(7,"input",65),t.qCj("change",function(i){const s=t.usT(e).$implicit,d=t.GaO();return t.CGJ(d.tagsetStatus(s,i))}),t.C$Y(),t.I0R(8,"label",66)(9,"span",67),t.OEk(10),t.C$Y()()()(),t.I0R(11,"td",68)(12,"ul",69)(13,"li")(14,"a",70),t.qCj("click",function(){const r=t.usT(e).$implicit,s=t.GaO();return t.Gew(59).show(),t.CGJ(s.edittag(r))}),t.wR5(15,"i",71),t.C$Y()(),t.I0R(16,"li")(17,"a",72),t.qCj("click",function(){const r=t.usT(e).$implicit,s=t.GaO();return t.CGJ(s.delete(r.id))}),t.wR5(18,"i",73),t.C$Y()()()()()}if(2&o){const e=n.$implicit,a=n.$index;t.yG2(2),t.oRS(" ",a+1," "),t.yG2(2),t.oRS(" ",e.title," "),t.yG2(3),t.E7m("checked","active"===e.status)("id","customSwitchsizemdteam"+a),t.yG2(),t.E7m("for","customSwitchsizemdteam"+a),t.yG2(),t.E7m("ngClass",t.IBC(7,Se,"active"===e.status,"inactive"===e.status)),t.yG2(),t.cNF(e.status)}}function $e(o,n){1&o&&t.OEk(0," Add ")}function Pe(o,n){1&o&&t.OEk(0," Edit ")}function xe(o,n){1&o&&(t.I0R(0,"div",74),t.OEk(1,"Title is required."),t.C$Y())}function Ae(o,n){1&o&&(t.I0R(0,"div",74),t.OEk(1,"Title must be at most 30 characters"),t.C$Y())}function Te(o,n){1&o&&(t.I0R(0,"div",74),t.OEk(1,"Status is required."),t.C$Y())}function De(o,n){1&o&&(t.I0R(0,"button",75),t.OEk(1," Save Changes "),t.C$Y())}function qe(o,n){1&o&&(t.I0R(0,"button",76),t.wR5(1,"span",77),t.OEk(2," Please wait "),t.C$Y())}const Me=[{path:"",component:_t},{path:"add-category",component:B},{path:"add-sub-category",component:ht},{path:"add-product",component:k},{path:"edit-product/:id",component:k},{path:"add-tag",component:(()=>{class o{constructor(e,a,i){this.formBuilder=e,this.api=a,this.toastService=i,this.titleChange=new t._w7,this.tagData=[],this.tagDataList=[],this.editId=null,this.addSaveButtonActive=!0,this.spinnerStatus=!1,this.term="",this.currentPage=1,this.totalItems=0,this.itemsPerPage=5}ngOnInit(){this.breadCrumbItems=[{label:"Product",active:!0},{label:"tag ",active:!0}],this.gettagData(),this.initializeFormtag()}initializeFormtag(){this.tag=this.formBuilder.group({title:["",[l.AQ.required,l.AQ.maxLength(30)]],status:["",[l.AQ.required]]})}tagimageValidator(){return e=>null==this.editId?l.AQ.required(e):null}get tagSec(){return this.tag.controls}toggleSpinner(e){this.spinnerStatus=e,this.addSaveButtonActive=!e}gettagData(){this.api.getwithoutid("tag").subscribe(e=>{e&&e.status?(this.tagData=e.data||[],this.tagDataList=e.data||[],this.updatePagination(),this.updateDisplayedItems()):this.handleError("Unexpected response format")},e=>{this.handleError(e.message||"An error occurred while fetching data")})}submittag(e){if(this.tag.valid){this.toggleSpinner(!0);const a=this.createtagFormData();null!=this.editId?this.updatetag(e,a,this.editId):this.addtag(e,a)}else this.tag.markAllAsTouched()}createtagFormData(){const e={title:this.tagSec.title.value,status:this.tagSec.status.value},a=localStorage.getItem("currentUser"),r=(a?JSON.parse(a):{}).username||"Admin";return e[null!=this.editId?"updated_by":"created_by"]=r,e}updatetag(e,a,i){this.api.put("tag",i,a).subscribe(r=>this.handletagResponse(r,e),r=>this.handleError(r))}addtag(e,a){this.api.post("tag",a).subscribe(i=>this.handletagResponse(i,e),i=>this.handleError(i))}tagsetStatus(e,a){const s={title:e.title,status:a.target.checked?"active":"inactive"};this.toggleSpinner(!0),this.api.put("tag",e.id,s).subscribe(d=>this.handletagResponse(d,null),d=>this.handleError(d))}delete(e){e&&p().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(a=>{a.isConfirmed&&this.api.deleteWithId("tag",e).subscribe(i=>this.handletagResponse(i,"delete"),i=>this.handleError(i))})}handletagResponse(e,a){this.toggleSpinner(!1),!0===e.status?(this.gettagData(),"delete"==a?this.toastService.success("Data deleted Successfully!!"):(this.toastService.success("Data Saved Successfully!!"),this.resetForm(),a.hide())):this.toastService.error(e.message)}resetForm(){this.editId=null,this.tag.reset()}handleError(e){this.toggleSpinner(!1)}edittag(e){this.initializeFormtag(),this.editId=e.id,this.tag.patchValue({title:e.title,description:e.description,position:e.position,status:e.status})}filterdata(){this.tagData=this.term?this.tagDataList.filter(e=>{const a=this.term.toLowerCase();return e.title.toLowerCase().includes(a)||e.status.toLowerCase().includes(a)}):this.tagDataList.slice(0,5),this.updateNoResultDisplay()}updateNoResultDisplay(){const e=document.querySelector(".noresult"),a=document.getElementById("pagination-element");this.term&&0===this.tagData.length?(e.style.display="block",a.classList.add("d-none")):(e.style.display="none",a.classList.remove("d-none"))}pageChanged(e){this.currentPage=e.page,this.updateDisplayedItems()}updatePagination(){this.totalItems=this.tagDataList.length}updateDisplayedItems(){const e=(this.currentPage-1)*this.itemsPerPage;this.endItem=this.currentPage*this.itemsPerPage,this.tagData=this.tagDataList.slice(e,this.endItem)}static#t=this.\u0275fac=function(a){return new(a||o)(t.GI1(l.im),t.GI1(C.W),t.GI1(f.SA))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-add-tag"]],outputs:{titleChange:"titleChange"},decls:98,vars:14,consts:[["title","tag",3,"breadcrumbItems"],[1,"row"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"col-lg-12"],[1,"card-body","ps-0"],[1,"row","align-items-center","g-2"],[1,"col-6","mt-0"],[1,"card-header","ps-0","pt-0"],[1,"d-flex","justify-content-between","align-items-center"],[1,"col-lg-5","d-flex","justify-content-end"],[1,"search-box"],["type","text","placeholder","Search",1,"form-control","search",3,"ngModel","ngModelChange","keyup"],[1,"ri-search-line","search-icon"],[1,"col-lg-1"],[1,"hstack","flex-wrap","gap-2"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-plus-circle","align-baseline","me-1"],[1,"table-responsive","table-card"],[1,"table","table-bordered","table-centered","align-middle","table-custom-effect","table-nowrap","mb-0"],[1,"text-muted","text-center"],["scope","col",1,"cursor-pointer"],["scope","col"],[1,"list","form-check-all","text-center"],[1,"noresult",2,"display","none"],[1,"text-center","py-4"],[1,"ph-magnifying-glass","fs-1","text-primary"],[1,"mt-2"],[1,"text-muted","mb-0"],["id","pagination-element",1,"row","align-items-center","mt-4","pt-2"],[1,"col-sm"],[1,"text-muted","text-center","text-sm-start"],[1,"fw-semibold"],[1,"col-sm-auto","mt-3","mt-sm-0"],[1,"pagination-wrap","hstack","gap-2","justify-content-center",3,"totalItems","itemsPerPage","pageChanged"],["bsModal","","id","team",1,"modal","fade"],["team","bs-modal"],[1,"modal-dialog"],[1,"modal-content","border-0"],[1,"modal-header","bg-success","p-3"],["id","editSection2ModalLabel",1,"modal-title","text-white"],["type","button",1,"btn-close","btn-close-white",3,"click"],[1,"tablelist-form",3,"formGroup","submit"],[1,"modal-body"],["id","alert-error-msg",1,"d-none","alert","alert-danger","py-2"],[1,"mb-3"],["for","title",1,"form-label"],[1,"text-danger"],["type","text","id","title","formControlName","title","placeholder","Enter title",1,"form-control",3,"ngClass"],["class","invalid-text"],["for","addstatus",1,"form-label"],["formControlName","status","data-choices","","id","addstatus",1,"form-control",3,"ngClass"],["value",""],["value","active"],["value","inactive"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button",1,"btn","btn-ghost-success",3,"click"],[1,"bi","bi-x-lg","align-baseline","me-1"],["type","submit","class","btn btn-primary","id","add-btn"],[1,"id"],[1,"instructor"],[1,"status"],[1,"form-switch","form-switch-md","mb-3"],["type","checkbox",1,"form-check-input",3,"checked","id","change"],[1,"form-check-label",3,"for"],[1,"badge","text-capitalize",3,"ngClass"],[1,"px-0"],[1,"d-flex","justify-content-center","gap-2","list-unstyled","mb-0"],[1,"btn","btn-subtle-secondary","btn-icon","btn-sm","edit-item-btn",3,"click"],[1,"ph-pencil","fs-5"],[1,"btn","btn-subtle-danger","btn-icon","btn-sm","remove-item-btn",3,"click"],[1,"ph-trash","fs-5"],[1,"invalid-text"],["type","submit","id","add-btn",1,"btn","btn-primary"],["type","button","disabled","",1,"btn","btn-secondary"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(a,i){if(1&a){const r=t.KQA();t.wR5(0,"app-breadcrumbs",0),t.I0R(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",1)(6,"div",5)(7,"div",3)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),t.wR5(12,"div",10),t.C$Y()(),t.I0R(13,"div",11)(14,"div",12)(15,"input",13),t.iHE("ngModelChange",function(d){return t.kNx(i.term,d)||(i.term=d),d}),t.qCj("keyup",function(){return i.filterdata()}),t.C$Y(),t.wR5(16,"i",14),t.C$Y()(),t.I0R(17,"div",15)(18,"div",16)(19,"div")(20,"a",17),t.qCj("click",function(){return t.usT(r),t.Gew(59).show(),t.CGJ(i.resetForm())}),t.wR5(21,"i",18),t.OEk(22,"Add"),t.C$Y()()()()()(),t.I0R(23,"div",4)(24,"div",19)(25,"table",20)(26,"thead",21)(27,"tr")(28,"th",22),t.OEk(29,"S No."),t.C$Y(),t.I0R(30,"th",22),t.OEk(31,"Name"),t.C$Y(),t.I0R(32,"th",22),t.OEk(33,"Status"),t.C$Y(),t.I0R(34,"th",23),t.OEk(35,"Action"),t.C$Y()()(),t.I0R(36,"tbody",24),t.c53(37,Ge,19,10,"tr",null,t.wJt),t.C$Y()(),t.I0R(39,"div",25)(40,"div",26),t.wR5(41,"i",27),t.I0R(42,"h5",28),t.OEk(43,"Sorry! No Result Found"),t.C$Y(),t.I0R(44,"p",29),t.OEk(45," We did not find any Details for you search. "),t.C$Y()()()(),t.I0R(46,"div",30)(47,"div",31)(48,"div",32),t.OEk(49," Showing "),t.I0R(50,"span",33),t.OEk(51),t.C$Y(),t.OEk(52," of "),t.I0R(53,"span",33),t.OEk(54),t.C$Y(),t.OEk(55," Results "),t.C$Y()(),t.I0R(56,"div",34)(57,"pagination",35),t.qCj("pageChanged",function(d){return i.pageChanged(d)}),t.C$Y()()()()()()()()()()(),t.I0R(58,"div",36,37)(60,"div",38)(61,"div",39)(62,"div",40)(63,"h5",41),t.yuY(64,$e,1,0)(65,Pe,1,0),t.C$Y(),t.I0R(66,"button",42),t.qCj("click",function(){t.usT(r);const d=t.Gew(59);return t.CGJ(d.hide())}),t.C$Y()(),t.I0R(67,"form",43),t.qCj("submit",function(){t.usT(r);const d=t.Gew(59);return t.CGJ(i.submittag(d))}),t.I0R(68,"div",44),t.wR5(69,"div",45),t.I0R(70,"div",46)(71,"label",47),t.OEk(72,"Title"),t.I0R(73,"span",48),t.OEk(74,"*"),t.C$Y()(),t.wR5(75,"input",49),t.yuY(76,xe,2,0,"div",50)(77,Ae,2,0,"div",50),t.C$Y(),t.I0R(78,"div",46)(79,"label",51),t.OEk(80,"Status "),t.I0R(81,"span",48),t.OEk(82,"*"),t.C$Y()(),t.I0R(83,"select",52)(84,"option",53),t.OEk(85,"Select Status"),t.C$Y(),t.I0R(86,"option",54),t.OEk(87,"Active"),t.C$Y(),t.I0R(88,"option",55),t.OEk(89,"Inactive"),t.C$Y()(),t.yuY(90,Te,2,0,"div",50),t.C$Y()(),t.I0R(91,"div",56)(92,"div",57)(93,"button",58),t.qCj("click",function(){t.usT(r);const d=t.Gew(59);return t.CGJ(d.hide())}),t.wR5(94,"i",59),t.OEk(95," Close "),t.C$Y(),t.yuY(96,De,2,0,"button",60)(97,qe,3,0),t.C$Y()()()()()()}2&a&&(t.E7m("breadcrumbItems",i.breadCrumbItems),t.yG2(15),t.OKB("ngModel",i.term),t.yG2(22),t.oho(i.tagData),t.yG2(14),t.cNF(null==i.tagData?null:i.tagData.length),t.yG2(3),t.cNF(null==i.tagDataList?null:i.tagDataList.length),t.yG2(3),t.E7m("totalItems",null==i.tagDataList?null:i.tagDataList.length)("itemsPerPage",5),t.yG2(7),t.C0Y(64,null==i.editId?64:65),t.yG2(3),t.E7m("formGroup",i.tag),t.yG2(8),t.E7m("ngClass",i.tagSec.title&&i.tagSec.title.hasError("required")&&i.tagSec.title.touched?"is-invalid":""),t.yG2(),t.C0Y(76,i.tagSec.title&&i.tagSec.title.hasError("required")&&i.tagSec.title.touched?76:-1),t.yG2(),t.C0Y(77,i.tagSec.title&&i.tagSec.title.hasError("maxlength")&&i.tagSec.title.touched?77:-1),t.yG2(6),t.E7m("ngClass",i.tagSec.status&&i.tagSec.status.hasError("required")&&i.tagSec.status.touched?"is-invalid":""),t.yG2(7),t.C0Y(90,i.tagSec.status&&i.tagSec.status.hasError("required")&&i.tagSec.status.touched?90:-1),t.yG2(6),t.C0Y(96,i.addSaveButtonActive?96:97))},dependencies:[m.QF,_.O,l.sz,l.wd,l.GO,l.ot,l.GC,l.ue,l.u,l._G,l.uW,l.Wo,b.im,y.uK],styles:[".invalid-text[_ngcontent-%COMP%]{color:#ff6c6c;margin-top:4px}"]})}return o})()}];let Fe=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=t.a4G({type:o});static#i=this.\u0275inj=t.s3X({imports:[g.qQ.forChild(Me),g.qQ]})}return o})();var ze=c(9280),Le=c(5140),je=c(1876),Ne=c(3768),Ue=c(7995),Be=c(2508),Qe=c(1972),Je=c(2296),Ve=c(8088),Ke=c(8096),We=c(9100),He=c(3304),Xe=c(8987),Ze=c(7432),ti=c(3952),ei=c(8612),ii=c(9884);let oi=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=t.a4G({type:o});static#i=this.\u0275inj=t.s3X({imports:[m.MD,Fe,ze.k,Le.Uf.forRoot(),l.y,l.sl,b.rO.forRoot(),y.f8.forRoot(),I.C.forRoot(),je.or,Ne.S,Ue.as.forRoot(),Be.G,Qe.m,Je.cH.forRoot(),R.gb,Ve.GG,Ke.k,u.Fd,We.kV,He.SO.forRoot(),Xe.iU.forRoot(),Ze.Ar,ti.RR.forRoot(),ei.oP,ii.c1.forRoot()]})}return o})()}}]);